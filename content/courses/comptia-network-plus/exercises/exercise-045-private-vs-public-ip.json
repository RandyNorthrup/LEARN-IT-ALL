{
  "id": "exercise-045-private-vs-public-ip",
  "lessonId": "lesson-045-private-vs-public-ip",
  "title": "Private vs Public IP Addressing and NAT",
  "description": "Distinguish private and public IP addresses, implement Network Address Translation (NAT), and solve real-world addressing scenarios including port forwarding, DMZ, and PAT (Port Address Translation).",
  "difficulty": "intermediate",
  "points": 100,
  "language": "text",
  "starterCode": "# PRIVATE vs PUBLIC IP EXERCISE\n# Understand RFC 1918 private ranges and NAT\n\n## SCENARIO: TechStartup Corporation\n## - Size: 150 employees across 3 departments\n## - Internet connection: 1 static public IP (203.0.113.50)\n## - Internal network: 192.168.1.0/24 (private)\n## - Services: Web server, email, internal apps\n## - Challenge: Route internal traffic through single public IP\n\n## PART 1: PUBLIC IP ADDRESSES\n## Q1: Define public IP address:\n##     Routing: _______ (globally routed on internet)\n##     Uniqueness: _______ (unique worldwide)\n##     Accessibility: _______ (reachable from anywhere)\n##     Assignment: _______ (allocated by RIR ‚Üí ISP ‚Üí org)\n##     Allocation: _______ (scarce, ~4.3 billion IPv4 only)\n##     Cost: _______ ($5-100+ per IP annually)\n##     Example: 203.0.113.50\n\n## Q2: Public address characteristics:\n##     Must be: _______ (registered, documented)\n##     Routing table: _______ (appears in internet routing)\n##     Reverse DNS: _______ (typically configured, verified)\n##     WHOIS: _______ (publicly queryable)\n##     Regional allocation: _______ (ARIN, RIPE, APNIC, LACNIC, AFNIC)\n\n## Q3: Cost impact of public IPs:\n##     Scenario: ISP offers public IPs at $5/month each\n##     Organization needs: 50 additional public IPs for servers\n##     Monthly cost: _______ ($250)\n##     Annual cost: _______ ($3,000)\n##     Problem: _______ (expensive, wasteful)\n##     Alternative: _______ (NAT, sharing single IP)\n\n## PART 2: PRIVATE IP ADDRESSES (RFC 1918)\n## Q4: Define private IP address:\n##     Routing: _______ (NOT routed on internet)\n##     Uniqueness: _______ (can reuse in different networks)\n##     Accessibility: _______ (only internally accessible)\n##     Assignment: _______ (self-assigned, no RIR needed)\n##     Cost: _______ (completely free)\n##     Purpose: _______ (internal networks, conservation)\n##     Security: _______ (hidden from internet)\n\n## Q5: RFC 1918 private ranges:\n##     Class A private: _______ (10.0.0.0 to 10.255.255.255)\n##     - Prefix: _______ (/8)\n##     - Hosts: _______ (16.7 million)\n##     - Use: Large organizations, enterprise networks\n##     \n##     Class B private: _______ (172.16.0.0 to 172.31.255.255)\n##     - Prefix: _______ (/12)\n##     - Hosts: _______ (1.048 million)\n##     - Use: Medium organizations, data centers\n##     \n##     Class C private: _______ (192.168.0.0 to 192.168.255.255)\n##     - Prefix: _______ (/16)\n##     - Hosts: _______ (65,534)\n##     - Use: Small offices, home networks (most common)\n\n## Q6: Reusing private address space:\n##     Multiple companies can use 192.168.1.0/24 independently:\n##     - Company A (New York): 192.168.1.0/24\n##     - Company B (London): 192.168.1.0/24\n##     - Company C (Tokyo): 192.168.1.0/24\n##     \n##     No conflict because: _______ (private, not routed globally)\n##     Result: _______ (can isolate, no cross-network access)\n##     Security: _______ (independent networks)\n\n## PART 3: NETWORK ADDRESS TRANSLATION (NAT)\n## Q7: What is NAT?\n##     NAT: _______\n##     Purpose: _______ (translate private ‚Üî public addresses)\n##     Location: _______ (firewall, router at network edge)\n##     Direction: _______ (outbound: private‚Üípublic, inbound: public‚Üíprivate)\n##     \n##     Example flow:\n##     - Internal PC: 192.168.1.50 sends to 8.8.8.8\n##     - NAT table: Creates entry\n##     - External: Changed to 203.0.113.50 ‚Üí 8.8.8.8\n##     - Response: 8.8.8.8 ‚Üí 203.0.113.50\n##     - NAT reverse: Changed to 192.168.1.50\n\n## Q8: Static NAT (1:1 mapping):\n##     Definition: _______ (permanent one-to-one mapping)\n##     Mapping: _______ (specific private always ‚Üí specific public)\n##     \n##     Example:\n##     - Private: 192.168.1.100 (web server)\n##     - Public: 203.0.113.100 (always)\n##     - Result: Web server always accessible via same public IP\n##     \n##     Use case: _______ (always-on services)\n##     Limitation: _______ (needs public IP for each service)\n\n## Q9: Dynamic NAT (N:M mapping):\n##     Definition: _______ (temporary IP pool mapping)\n##     Mapping: _______ (private gets next available public)\n##     \n##     Example:\n##     - Private pool: 192.168.1.0/24 (254 hosts)\n##     - Public pool: 203.0.113.0/25 (126 addresses)\n##     - Problem: _______ (runs out of public IPs when >126 connections)\n##     \n##     When mapping released: _______ (when connection closes)\n##     Advantage: _______ (more public IPs available for reuse)\n\n## Q10: PAT (Port Address Translation):\n##      Also known as: _______ (NAT overload)\n##      Definition: _______ (many private ‚Üí one public + port number)\n##      Benefit: _______ (supports thousands of users on 1 public IP)\n##      \n##      Example mapping:\n##      - Private 192.168.1.50:50001 ‚Üí Public 203.0.113.50:8001\n##      - Private 192.168.1.51:50002 ‚Üí Public 203.0.113.50:8002\n##      - Private 192.168.1.52:50003 ‚Üí Public 203.0.113.50:8003\n##      \n##      Scalability: _______ (65,536 ports per protocol = thousands)\n##      Common use: _______ (home, small office, mobile)\n\n## PART 4: NAT SCENARIOS & PORT FORWARDING\n## Q11: TechStartup scenario - Basic PAT:\n##      Network setup:\n##      - Internal: 192.168.1.0/24 (150 employees)\n##      - Public: 203.0.113.50 (1 address from ISP)\n##      - Solution: _______\n##      \n##      Configuration:\n##      - Enable PAT on firewall\n##      - All outbound: Translated to 203.0.113.50\n##      - Result: _______ (all 150 users share 1 IP via ports)\n\n## Q12: Port forwarding for web server:\n##      Requirement: Host website on internal 192.168.1.100:80\n##      External users: Must reach 203.0.113.50:80\n##      Problem: _______ (PAT hides internal address)\n##      \n##      Solution: Port forwarding rule\n##      - Incoming: 203.0.113.50:80 (external)\n##      - Redirect: 192.168.1.100:80 (internal)\n##      - Result: _______ (external can access web server)\n##      - Configuration: Enabled, persistent\n\n## Q13: Port forwarding multiple services:\n##      Internal servers:\n##      - Web: 192.168.1.100 (HTTP 80, HTTPS 443)\n##      - Email SMTP: 192.168.1.101 (25)\n##      - Email POP3: 192.168.1.102 (110)\n##      - SSH: 192.168.1.103 (2222)\n##      \n##      Port forwarding rules needed: _______ (4 rules minimum)\n##      - Rule 1: 203.0.113.50:80 ‚Üí 192.168.1.100:80\n##      - Rule 2: 203.0.113.50:443 ‚Üí 192.168.1.100:443\n##      - Rule 3: 203.0.113.50:25 ‚Üí 192.168.1.101:25\n##      - Rule 4: 203.0.113.50:110 ‚Üí 192.168.1.102:110\n##      \n##      Result: _______ (single public IP, multiple internal services)\n\n## Q14: DMZ (Demilitarized Zone):\n##      Problem: Web server exposed to internet = _______ (security risk)\n##      \n##      Solution: Create DMZ network\n##      - Internet: Untrusted zone\n##      - DMZ: Semi-trusted (192.168.100.0/24)\n##      - Internal: Trusted (192.168.1.0/24)\n##      \n##      Firewall rules:\n##      - Internet ‚Üí DMZ: _______ (allowed, web traffic)\n##      - DMZ ‚Üí Internal: _______ (restricted, database only)\n##      - Internal ‚Üí Internet: _______ (allowed, NAT)\n##      \n##      Placement:\n##      - Web/Mail servers: DMZ (public-facing)\n##      - Database: Internal (protected)\n##      - Employees: Internal (trusted)\n##      \n##      Benefit: _______ (compromised web server isolated, cannot access DB)\n\n## PART 5: ADVANCED NAT SCENARIOS\n## Q15: Hairpin NAT (U-turn):\n##      Scenario: Employee on 192.168.1.50 types company website\n##      - Website hostname: company.com\n##      - DNS resolves to: 203.0.113.50 (company's public IP)\n##      - Problem: _______ (packet goes out to internet, returns inefficiently)\n##      \n##      Solution: Hairpin NAT\n##      - Router detects: Internal IP trying to reach own public IP\n##      - Action: Redirects to 192.168.1.100 (internal web server)\n##      - Result: _______ (internal connection, fast, no internet round-trip)\n\n## Q16: Asymmetric routing problem:\n##      Scenario:\n##      - Outbound: TechStartup ‚Üí Partner through Router X (with NAT)\n##      - Return: Partner ‚Üí TechStartup through Router Y (different path)\n##      \n##      Problem: _______ (Router Y doesn't know about X's NAT translation)\n##      - Packet arrives: Shows as coming from TechStartup's public IP\n##      - Router Y: Checks state table, finds no matching connection\n##      - Result: _______ (packet rejected, connection fails)\n##      \n##      Solution: _______ (route all traffic through same NAT device)\n##      Design: Single firewall for NAT, ensures state consistency\n\n## Q17: NAT limitations - Protocol issues:\n##      Protocols that work poorly through NAT:\n##      - FTP: _______ (active mode fails, use passive)\n##      - VoIP: _______ (RTP issues, latency problems)\n##      - P2P (BitTorrent): _______ (peer discovery fails)\n##      - H.323 (video conferencing): _______ (call setup complex)\n##      - Online games: _______ (latency, connection timeouts)\n##      \n##      Why: _______ (protocols embed IP addresses in data payload)\n##      Solution: _______ (protocol-specific handlers, UPnP, or avoid NAT)\n\n## Q18: NAT scalability calculation:\n##      Question: How many users can share 1 public IP via PAT?\n##      \n##      Port availability:\n##      - Total ports: 65,536 (per protocol TCP/UDP)\n##      - Reserved (0-1023): 1,024\n##      - Ephemeral (1024-65535): 64,512 available\n##      \n##      Per-user estimate:\n##      - Web browsing: 4-6 simultaneous connections\n##      - Email/messaging: 1-2 connections\n##      - Video: 1 connection\n##      - Other: 1-2 connections\n##      - Total per user: _______ (10-20 ports)\n##      \n##      Calculation: 64,512 / 15 (average) ‚âà _______ (4,300+ users)\n\n## Q19: Comparison of NAT types:\n##      Technology    | Private:Public | Cost | Use Case |\n##      Static NAT    | 1:1            | High | Servers |\n##      Dynamic NAT   | N:M (N<M)      | Med  | Medium office |\n##      PAT           | Many:1         | Low  | Small office |\n##      \n##      Best choice:\n##      - Internal web server (always same IP): _______ (Static NAT)\n##      - Medium office (100 employees, public IPs): _______ (Dynamic NAT)\n##      - Small office (50 employees, 1 IP): _______ (PAT)\n\n## Q20: IPv6 impact on NAT:\n##      IPv6 characteristics:\n##      - Addresses: _______ (340 undecillion addresses)\n##      - Availability: _______ (virtually unlimited)\n##      - NAT requirement: _______ (NOT needed)\n##      \n##      Future implications:\n##      - Current: IPv4 requires NAT due to scarcity\n##      - IPv6: Every device gets public address\n##      - Result: _______ (NAT eventually becomes unnecessary)\n##      - Timeline: _______ (5-10 years dual-stack, then IPv6 dominant)",
  "solution": "# PRIVATE vs PUBLIC IP SOLUTION\n\n## PART 1: PUBLIC IP ADDRESSES\n\n### Public IP Address Definition\n\n**Routing**: **GLOBALLY ROUTED ON INTERNET** üåê\n**Uniqueness**: **UNIQUE WORLDWIDE** (no duplicates)\n**Accessibility**: **REACHABLE FROM ANYWHERE**\n**Assignment**: **ALLOCATED BY RIR ‚Üí ISP ‚Üí ORG**\n**Allocation**: **SCARCE, ~4.3 BILLION IPv4 ONLY**\n**Cost**: **$5-100+ PER IP ANNUALLY** üí∞\n**Example**: 203.0.113.50 (documentation range)\n\n### Public Address Characteristics\n\n**Must be**: **REGISTERED, DOCUMENTED** ‚úì\n**Routing table**: **APPEARS IN INTERNET ROUTING**\n**Reverse DNS**: **TYPICALLY CONFIGURED, VERIFIED**\n**WHOIS**: **PUBLICLY QUERYABLE** (transparency)\n**Regional allocation**: **ARIN, RIPE, APNIC, LACNIC, AFNIC** (5 registries)\n\n### Cost Impact of Public IPs\n\n**Scenario**: ISP offers public IPs at $5/month each\n**Organization needs**: 50 additional public IPs for servers\n**Monthly cost**: **$250** üí∞\n**Annual cost**: **$3,000** üí∞\n**Problem**: **EXPENSIVE, WASTEFUL** ‚ö†Ô∏è\n**Alternative**: **NAT, SHARING SINGLE IP** ‚úì\n\n## PART 2: PRIVATE IP ADDRESSES (RFC 1918)\n\n### Private IP Address Definition\n\n**Routing**: **NOT ROUTED ON INTERNET** ‚úì (secure)\n**Uniqueness**: **CAN REUSE IN DIFFERENT NETWORKS** ‚úì\n**Accessibility**: **ONLY INTERNALLY ACCESSIBLE**\n**Assignment**: **SELF-ASSIGNED, NO RIR NEEDED** (no cost)\n**Cost**: **COMPLETELY FREE** ‚úì\n**Purpose**: **INTERNAL NETWORKS, CONSERVATION**\n**Security**: **HIDDEN FROM INTERNET**\n\n### RFC 1918 Private Ranges\n\n**Class A private**: **10.0.0.0 to 10.255.255.255**\n- Prefix: **/8**\n- Hosts: **16.7 MILLION** (2^24)\n- Use: Large organizations, enterprise networks\n\n**Class B private**: **172.16.0.0 to 172.31.255.255**\n- Prefix: **/12**\n- Hosts: **1.048 MILLION** (2^20)\n- Use: Medium organizations, data centers\n\n**Class C private**: **192.168.0.0 to 192.168.255.255**\n- Prefix: **/16**\n- Hosts: **65,534** (per /24 subnet: 254 hosts)\n- Use: Small offices, home networks (most common) ‚úì\n\n### Reusing Private Address Space\n\n**Multiple companies can use 192.168.1.0/24 independently**:\n- Company A (New York): 192.168.1.0/24\n- Company B (London): 192.168.1.0/24\n- Company C (Tokyo): 192.168.1.0/24\n\n**No conflict because**: **PRIVATE, NOT ROUTED GLOBALLY** ‚úì\n**Result**: **CAN ISOLATE, NO CROSS-NETWORK ACCESS**\n**Security**: **INDEPENDENT NETWORKS, ISOLATED** ‚úì\n\n## PART 3: NETWORK ADDRESS TRANSLATION (NAT)\n\n### What is NAT?\n\n**NAT**: **Network Address Translation** ‚úì\n**Purpose**: **TRANSLATE PRIVATE ‚Üî PUBLIC ADDRESSES**\n**Location**: **FIREWALL, ROUTER AT NETWORK EDGE**\n**Direction**: **OUTBOUND: PRIVATE‚ÜíPUBLIC, INBOUND: PUBLIC‚ÜíPRIVATE**\n\n**Example flow**:\n1. Internal PC: 192.168.1.50 sends to 8.8.8.8\n2. NAT table: Creates entry\n3. External: Changed to 203.0.113.50 ‚Üí 8.8.8.8\n4. Response: 8.8.8.8 ‚Üí 203.0.113.50\n5. NAT reverse: Changed to 192.168.1.50 ‚úì\n\n### Static NAT (1:1 Mapping)\n\n**Definition**: **PERMANENT ONE-TO-ONE MAPPING** ‚úì\n**Mapping**: **SPECIFIC PRIVATE ALWAYS ‚Üí SPECIFIC PUBLIC**\n\n**Example**:\n- Private: 192.168.1.100 (web server)\n- Public: 203.0.113.100 (always) ‚úì\n- Result: Web server always accessible via same public IP\n\n**Use case**: **ALWAYS-ON SERVICES** (web, mail, DNS)\n**Limitation**: **NEEDS PUBLIC IP FOR EACH SERVICE** üí∞\n\n### Dynamic NAT (N:M Mapping)\n\n**Definition**: **TEMPORARY IP POOL MAPPING**\n**Mapping**: **PRIVATE GETS NEXT AVAILABLE PUBLIC**\n\n**Example**:\n- Private pool: 192.168.1.0/24 (254 hosts)\n- Public pool: 203.0.113.0/25 (126 addresses)\n- Problem: **RUNS OUT OF PUBLIC IPS WHEN >126 CONNECTIONS** ‚ö†Ô∏è\n\n**When mapping released**: **WHEN CONNECTION CLOSES** ‚úì\n**Advantage**: **MORE PUBLIC IPS AVAILABLE FOR REUSE**\n\n### PAT (Port Address Translation)\n\n**Also known as**: **NAT OVERLOAD** ‚úì\n**Definition**: **MANY PRIVATE ‚Üí ONE PUBLIC + PORT NUMBER**\n**Benefit**: **SUPPORTS THOUSANDS OF USERS ON 1 PUBLIC IP** ‚úì\n\n**Example mapping**:\n- Private 192.168.1.50:50001 ‚Üí Public 203.0.113.50:8001\n- Private 192.168.1.51:50002 ‚Üí Public 203.0.113.50:8002\n- Private 192.168.1.52:50003 ‚Üí Public 203.0.113.50:8003\n\n**Scalability**: **65,536 PORTS PER PROTOCOL = THOUSANDS** ‚úì\n**Common use**: **HOME, SMALL OFFICE, MOBILE** (most common)\n\n## PART 4: NAT SCENARIOS & PORT FORWARDING\n\n### TechStartup Scenario - Basic PAT\n\n**Network setup**:\n- Internal: 192.168.1.0/24 (150 employees)\n- Public: 203.0.113.50 (1 address from ISP)\n- Solution: **PAT (PORT ADDRESS TRANSLATION)** ‚úì\n\n**Configuration**:\n- Enable PAT on firewall\n- All outbound: Translated to 203.0.113.50\n- Result: **ALL 150 USERS SHARE 1 IP VIA PORTS** ‚úì\n\n### Port Forwarding for Web Server\n\n**Requirement**: Host website on internal 192.168.1.100:80\n**External users**: Must reach 203.0.113.50:80\n**Problem**: **PAT HIDES INTERNAL ADDRESS** ‚ö†Ô∏è\n\n**Solution**: Port forwarding rule\n- Incoming: 203.0.113.50:80 (external)\n- Redirect: 192.168.1.100:80 (internal)\n- Result: **EXTERNAL CAN ACCESS WEB SERVER** ‚úì\n- Configuration: Enabled, persistent\n\n### Port Forwarding Multiple Services\n\n**Internal servers**:\n- Web: 192.168.1.100 (HTTP 80, HTTPS 443)\n- Email SMTP: 192.168.1.101 (25)\n- Email POP3: 192.168.1.102 (110)\n- SSH: 192.168.1.103 (2222)\n\n**Port forwarding rules needed**: **4 RULES MINIMUM** ‚úì\n- Rule 1: 203.0.113.50:80 ‚Üí 192.168.1.100:80\n- Rule 2: 203.0.113.50:443 ‚Üí 192.168.1.100:443\n- Rule 3: 203.0.113.50:25 ‚Üí 192.168.1.101:25\n- Rule 4: 203.0.113.50:110 ‚Üí 192.168.1.102:110\n\n**Result**: **SINGLE PUBLIC IP, MULTIPLE INTERNAL SERVICES** ‚úì\n\n### DMZ (Demilitarized Zone)\n\n**Problem**: **WEB SERVER EXPOSED TO INTERNET = SECURITY RISK** üî¥\n\n**Solution**: Create DMZ network\n- Internet: Untrusted zone\n- DMZ: Semi-trusted (192.168.100.0/24)\n- Internal: Trusted (192.168.1.0/24)\n\n**Firewall rules**:\n- Internet ‚Üí DMZ: **ALLOWED, WEB TRAFFIC** ‚úì\n- DMZ ‚Üí Internal: **RESTRICTED, DATABASE ONLY**\n- Internal ‚Üí Internet: **ALLOWED, NAT** ‚úì\n\n**Placement**:\n- Web/Mail servers: DMZ (public-facing)\n- Database: Internal (protected)\n- Employees: Internal (trusted)\n\n**Benefit**: **COMPROMISED WEB SERVER ISOLATED, CANNOT ACCESS DB** ‚úì\n\n## PART 5: ADVANCED NAT SCENARIOS\n\n### Hairpin NAT (U-Turn)\n\n**Scenario**: Employee on 192.168.1.50 types company website\n- Website hostname: company.com\n- DNS resolves to: 203.0.113.50 (company's public IP)\n- Problem: **PACKET GOES OUT TO INTERNET, RETURNS INEFFICIENTLY** ‚ö†Ô∏è\n\n**Solution**: Hairpin NAT\n- Router detects: Internal IP trying to reach own public IP\n- Action: Redirects to 192.168.1.100 (internal web server)\n- Result: **INTERNAL CONNECTION, FAST, NO INTERNET ROUND-TRIP** ‚úì\n\n### Asymmetric Routing Problem\n\n**Scenario**:\n- Outbound: TechStartup ‚Üí Partner through Router X (with NAT)\n- Return: Partner ‚Üí TechStartup through Router Y (different path)\n\n**Problem**: **ROUTER Y DOESN'T KNOW ABOUT X'S NAT TRANSLATION** ‚ö†Ô∏è\n- Packet arrives: Shows as coming from TechStartup's public IP\n- Router Y: Checks state table, finds no matching connection\n- Result: **PACKET REJECTED, CONNECTION FAILS** ‚ùå\n\n**Solution**: **ROUTE ALL TRAFFIC THROUGH SAME NAT DEVICE** ‚úì\n**Design**: Single firewall for NAT, ensures state consistency\n\n### NAT Limitations - Protocol Issues\n\n**Protocols that work poorly through NAT**:\n- FTP: **ACTIVE MODE FAILS, USE PASSIVE** ‚ö†Ô∏è\n- VoIP: **RTP ISSUES, LATENCY PROBLEMS**\n- P2P (BitTorrent): **PEER DISCOVERY FAILS**\n- H.323 (video conferencing): **CALL SETUP COMPLEX**\n- Online games: **LATENCY, CONNECTION TIMEOUTS**\n\n**Why**: **PROTOCOLS EMBED IP ADDRESSES IN DATA PAYLOAD** üìù\n**Solution**: **PROTOCOL-SPECIFIC HANDLERS, UPnP, OR AVOID NAT** ‚úì\n\n### NAT Scalability Calculation\n\n**Question**: How many users can share 1 public IP via PAT?\n\n**Port availability**:\n- Total ports: 65,536 (per protocol TCP/UDP)\n- Reserved (0-1023): 1,024\n- Ephemeral (1024-65535): **64,512 AVAILABLE**\n\n**Per-user estimate**:\n- Web browsing: 4-6 simultaneous connections\n- Email/messaging: 1-2 connections\n- Video: 1 connection\n- Other: 1-2 connections\n- Total per user: **10-20 PORTS** (average 15)\n\n**Calculation**: 64,512 / 15 (average) ‚âà **4,300+ USERS** ‚úì\n\n### Comparison of NAT Types\n\n| Technology | Private:Public | Cost | Use Case |\n|-----------|---------------|------|----------|\n| Static NAT | 1:1 | High | Servers |\n| Dynamic NAT | N:M (N<M) | Med | Medium office |\n| PAT | Many:1 | Low | Small office |\n\n**Best choice**:\n- Internal web server (always same IP): **STATIC NAT** ‚úì\n- Medium office (100 employees, public IPs): **DYNAMIC NAT** ‚úì\n- Small office (50 employees, 1 IP): **PAT** ‚úì\n\n### IPv6 Impact on NAT\n\n**IPv6 characteristics**:\n- Addresses: **340 UNDECILLION ADDRESSES** üåê\n- Availability: **VIRTUALLY UNLIMITED** ‚úì\n- NAT requirement: **NOT NEEDED** ‚úì\n\n**Future implications**:\n- Current: **IPv4 REQUIRES NAT DUE TO SCARCITY**\n- IPv6: **EVERY DEVICE GETS PUBLIC ADDRESS**\n- Result: **NAT EVENTUALLY BECOMES UNNECESSARY** ‚úì\n- Timeline: **5-10 YEARS DUAL-STACK, THEN IPv6 DOMINANT**",
  "hints": [
    "Public IP = globally unique, routed on internet, expensive; Private = free, hidden, reusable",
    "RFC 1918 private ranges: 10.0.0.0/8 (large), 172.16.0.0/12 (medium), 192.168.0.0/16 (small/common)",
    "NAT translates between private and public addresses at network edge (firewall/router)",
    "Static NAT = 1:1 permanent (servers); Dynamic NAT = N:M temporary (medium office); PAT = 1:Many (small office)",
    "PAT uses port numbers to support thousands of users on single public IP via port translation",
    "Port forwarding redirects external traffic to internal servers; enables published services",
    "DMZ = separate network for internet-facing servers (web, mail); isolates from internal resources",
    "Hairpin NAT redirects internal users accessing company public IP to internal servers efficiently",
    "Some protocols fail through NAT (FTP active, VoIP, P2P); solutions: passive mode, UPnP, ALG",
    "IPv6 eliminates NAT need (unlimited addresses per device); slow adoption, 5-10 year transition"
  ],
  "testCases": [
    {"id": "tc1-public", "description": "Public IP characteristics", "input": "Global, unique, routed", "expected": "Routing on internet, RIR allocated", "assert": "assert ('public' in solution.lower() or 'global' in solution.lower() or 'unique' in solution.lower())"},
    {"id": "tc2-private", "description": "Private IP ranges RFC 1918", "input": "Private ranges", "expected": "10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16", "assert": "assert ('private' in solution.lower() or '10.' in solution or '172.16' in solution or '192.168' in solution)"},
    {"id": "tc3-nat", "description": "NAT concept", "input": "Translation mechanism", "expected": "Private to public conversion", "assert": "assert ('nat' in solution.lower() or 'translat' in solution.lower() or 'address' in solution.lower())"},
    {"id": "tc4-static", "description": "Static NAT", "input": "1:1 permanent mapping", "expected": "Servers, always same IP", "assert": "assert ('static' in solution.lower() or 'permanent' in solution.lower() or 'server' in solution.lower())"},
    {"id": "tc5-pat", "description": "PAT", "input": "Port Address Translation", "expected": "Many to one with ports", "assert": "assert ('pat' in solution.lower() or 'port' in solution.lower() or 'overload' in solution.lower())"},
    {"id": "tc6-forwarding", "description": "Port forwarding", "input": "Redirect traffic", "expected": "External to internal service", "assert": "assert ('forward' in solution.lower() or 'redirect' in solution.lower() or 'rule' in solution.lower())"},
    {"id": "tc7-dmz", "description": "DMZ security", "input": "Network segmentation", "expected": "Isolated public-facing servers", "assert": "assert ('dmz' in solution.lower() or 'zone' in solution.lower() or 'segment' in solution.lower())"},
    {"id": "tc8-hairpin", "description": "Hairpin NAT", "input": "U-turn connection", "expected": "Internal accessing own public IP", "assert": "assert ('hairpin' in solution.lower() or 'internal' in solution.lower() or 'public' in solution.lower())"},
    {"id": "tc9-protocols", "description": "NAT protocol issues", "input": "FTP, VoIP, P2P", "expected": "Embedded IP addresses problem", "assert": "assert ('ftp' in solution.lower() or 'voip' in solution.lower() or 'protocol' in solution.lower() or 'p2p' in solution.lower())"},
    {"id": "tc10-ipv6", "description": "IPv6 impact", "input": "NAT elimination", "expected": "Unlimited addresses, no NAT needed", "assert": "assert ('ipv6' in solution.lower() or 'unlimited' in solution.lower() or 'future' in solution.lower())"}
  ]
}
