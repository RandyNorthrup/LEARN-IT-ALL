{
  "id": "exercise-023-network-documentation",
  "lessonId": "lesson-023-network-documentation",
  "title": "Creating Professional Network Documentation from Scratch",
  "description": "You are a network consultant hired by TechStart Solutions after they failed a critical PCI-DSS audit. The auditor rejected their network documentation as incomplete, inaccurate, and non-compliant. Your task is to create comprehensive, professional-grade documentation that meets compliance requirements, enables efficient operations, and serves as a blueprint for future network changes. You must analyze their current network, identify documentation gaps, and create multiple documentation deliverables including topology diagrams, IPAM documentation, operational procedures, and compliance evidence.",
  "difficulty": "advanced",
  "points": 150,
  "language": "text",
  "scenario": {
    "company": "TechStart Solutions",
    "situation": "Failed PCI-DSS audit due to inadequate and inaccurate network documentation. Auditor found: (1) No current network topology diagrams, (2) VLAN assignments undocumented, (3) IP addressing scheme inconsistent across subnets, (4) No configuration backup procedures, (5) Device inventory missing serial numbers and locations, (6) No change control documentation, (7) Emergency procedures undefined",
    "audit_findings": [
      "Network topology does not match actual production infrastructure",
      "VLAN configuration undocumented - cannot verify cardholder data isolation",
      "IP address allocation inconsistent - no centralized IPAM",
      "Backup retention policy missing - 180-day requirement not met",
      "Device lifecycle management not tracked",
      "No baseline configuration standards"
    ],
    "compliance_requirements": [
      "PCI-DSS Requirement 1: Implement and maintain configuration standards",
      "PCI-DSS Requirement 2: Document network topology showing all connections",
      "PCI-DSS Requirement 3.5: Backup retention 180+ days",
      "SOC 2 Type II: Document IT controls for confidentiality and availability",
      "ISO 27001: Maintain accurate asset inventory"
    ],
    "current_infrastructure": {
      "locations": "HQ (primary datacenter), Remote office (50 miles away)",
      "core": "2 redundant Catalyst 9500 core switches (HSRP)",
      "distribution": "3 Catalyst 3850 distribution switches (stackwise)",
      "access": "15 Catalyst 2960-X access switches across network",
      "security": "2 ASA 5516-X firewalls (active-standby)",
      "servers": "25 servers (web, database, email, file services)",
      "users": "200 workstations, 50 VoIP phones, 75 guest devices",
      "vlans": [
        "VLAN 10: Sales department (60 users)",
        "VLAN 20: Engineering department (80 users)",
        "VLAN 30: Guest WiFi (75 devices)",
        "VLAN 50: Servers (25 critical systems)",
        "VLAN 99: Management (network device access)"
      ]
    }
  },
  "starterCode": "# COMPREHENSIVE NETWORK DOCUMENTATION PROJECT\n# TechStart Solutions - Post-Audit Recovery\n# Due: Complete all 4 scenarios with professional documentation\n\n## DOCUMENTATION PROJECT OVERVIEW\n# You are creating 4 interconnected documentation deliverables:\n# 1. Network Topology Diagram (physical and logical)\n# 2. IP Address Management (IPAM) scheme and allocation\n# 3. Configuration Management procedures and backup strategy  \n# 4. Compliance Evidence package (audit readiness)\n\n# Each deliverable must be professional-grade, accurate, complete, and compliant.\n\n# ===================================================================\n# SCENARIO 1: NETWORK TOPOLOGY & DIAGRAM DOCUMENTATION\n# ===================================================================\n# PROBLEM: Auditor could not verify network structure matches documentation.\n# TASK: Create accurate logical and physical network diagrams with all connections.\n\n# Requirements:\n# - Show all network segments and their isolation\n# - Document DMZ, internal network, and management network separately\n# - Include firewall rules (high-level)\n# - Show redundancy (dual firewalls, HSRP core switches)\n# - Show VLAN assignments and routing\n# - Include ISP connections (assume dual ISP for redundancy)\n# - Document switch stacking/HSRP configuration\n# - Show server placement and segmentation\n\n# Questions to answer in your documentation:\n# Q1: How many separate network segments exist?\n# Q2: Which VLANs need firewall rules between them?\n# Q3: What is the path from a sales user (VLAN 10) to the database server (VLAN 50)?\n# Q4: How would a failure of Core-SW-01 affect traffic?\n# Q5: How is cardholder data isolated from guest network?\n\n# ===================================================================\n# SCENARIO 2: IP ADDRESS MANAGEMENT (IPAM) DOCUMENTATION  \n# ===================================================================\n# PROBLEM: IP addressing is inconsistent, with overlapping ranges and static conflicts.\n# TASK: Design and document a complete, non-overlapping IP addressing scheme.\n\n# Current Issues (you discovered):\n# - VLAN 10 uses 192.168.0.0/24, but VLAN 50 also uses 192.168.0.0/24 (OVERLAP!)\n# - Static IP range undefined, causing DHCP conflicts\n# - No documentation of which servers have static vs. DHCP IPs\n# - Management VLAN uses public IPs instead of private\n# - Backup/secondary site IP scheme undefined\n\n# Your IPAM plan must include:\n# - Non-overlapping subnet assignments for all VLANs\n# - RFC 1918 private IP ranges (10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16)\n# - DHCP ranges that don't conflict with static assignments\n# - Gateway IPs for each VLAN\n# - Static IP assignments for all critical devices\n# - Secondary site IP scheme for disaster recovery\n# - Documentation of why this design was chosen\n\n# Questions to answer:\n# Q1: Which RFC 1918 range should each VLAN use?\n# Q2: What DHCP range can be used without conflicting with static devices?\n# Q3: How many usable IPs are available for VLAN 10 with 60 users plus 20% growth?\n# Q4: Document the gateway IP for each VLAN and justify the choice\n# Q5: Design a parallel IP scheme for the remote office disaster recovery site\n\n# ===================================================================\n# SCENARIO 3: CONFIGURATION MANAGEMENT & BACKUP DOCUMENTATION\n# ===================================================================\n# PROBLEM: No backup procedures exist. PCI-DSS requires 180+ day retention.\n# TASK: Design backup and recovery strategy meeting compliance requirements.\n\n# Current gaps:\n# - No backup schedule documented\n# - No retention policy\n# - No off-site backup location\n# - No tested recovery procedures\n# - Configuration changes not tracked\n# - No baseline configurations defined\n\n# Your backup strategy must include:\n# - Backup frequency for each device type (daily/weekly)\n# - Retention periods meeting PCI-DSS (180 days for firewalls, 90 for switches)\n# - 3-2-1 backup rule implementation (3 copies, 2 media types, 1 off-site)\n# - Off-site storage location and method\n# - Recovery Time Objective (RTO) for different scenarios\n# - Testing schedule and validation procedures\n# - Version control for configuration changes\n\n# Questions to answer:\n# Q1: Why is 180-day retention required for firewall configs?\n# Q2: How would you implement the 3-2-1 backup rule?\n# Q3: What is the difference between incremental and differential backups?\n# Q4: Design a backup schedule that minimizes bandwidth during business hours\n# Q5: Document how you would recover from a core switch complete failure\n\n# ===================================================================\n# SCENARIO 4: COMPLIANCE EVIDENCE PACKAGE\n# ===================================================================\n# PROBLEM: Auditor needs evidence that documentation is current and maintained.\n# TASK: Create compliance evidence and ongoing documentation procedures.\n\n# Create the following compliance documents:\n# 1. Network Device Inventory (with serial numbers, locations, warranties)\n# 2. Standard Operating Procedure (SOP) for monthly documentation review\n# 3. Change Control process showing how updates are tracked\n# 4. Documentation version control with change log\n# 5. Network Baseline Configuration (for compliance reference)\n# 6. Risk Assessment of documentation gaps\n# 7. Emergency Contact and Escalation procedures\n\n# Your compliance package must demonstrate:\n# - Inventory accuracy (all devices accounted for)\n# - Documentation currency (last reviewed date)\n# - Change control (who changes what and when)\n# - Approval process (documented sign-offs)\n# - Recovery procedures (tested and verified)\n# - Asset lifecycle management\n\n# Questions to answer:\n# Q1: How would you track device firmware versions and licenses?\n# Q2: Design an SOP for updating documentation after network changes\n# Q3: Create a change control process showing approval workflow\n# Q4: Document how you verify all documentation is current (quarterly audit)\n# Q5: Design an escalation procedure for network emergencies\n\n# ===================================================================\n# DELIVERABLE CHECKLIST\n# ===================================================================\n# Your complete documentation package must include:\n\n# [ ] DIAGRAM: Network Logical Topology (showing all VLANs, subnets, devices)\n# [ ] DIAGRAM: Network Physical Diagram (locations, connections, redundancy)\n# [ ] TABLE: IPAM Subnet Allocation (all VLANs, gateways, DHCP ranges, static IPs)\n# [ ] TABLE: Device Inventory (device name, model, serial, location, IP, role)\n# [ ] TABLE: Static IP Assignments (critical devices with MAC addresses)\n# [ ] DOCUMENT: Backup & Recovery Procedure (frequency, retention, RTO, recovery steps)\n# [ ] DOCUMENT: Configuration Management SOP (change control, approvals, rollback)\n# [ ] DOCUMENT: Emergency Procedures (contacts, escalation, failover)\n# [ ] DOCUMENT: Risk Assessment (documentation gaps and mitigation)\n# [ ] DOCUMENT: Version Control Log (documenting this documentation package itself)\n\n# Each section must be:\n# - Complete and accurate\n# - Professional quality\n# - Compliance-focused\n# - Operationally useful\n# - Audit-ready",
  "solution": "# COMPREHENSIVE NETWORK DOCUMENTATION - COMPLETE SOLUTION\n# TechStart Solutions - Professional Documentation Package\n\n## ===================================================================\n## SCENARIO 1: NETWORK TOPOLOGY & DIAGRAM DOCUMENTATION (SOLUTION)\n## ===================================================================\n\n### LOGICAL NETWORK DIAGRAM\n```\n                         INTERNET\n                            |\n                   +--------+--------+\n                   |                 |\n              [ISP-1]           [ISP-2]\n           1 Gbps Fiber       500 Mbps Cable\n              203.0.113.0/30    198.51.100.0/30\n                   |                 |\n                   +--------+--------+\n                            |\n                      [Edge Router]\n                      BGP AS 65001\n                            |\n           +----------------+----------------+\n           |                                  |\n     [Firewall-01]                    [Firewall-02]\n     (Active/Primary)                 (Standby/Backup)\n     HSRP VIP: 10.0.0.1/24\n           |\n    +------+------+------+\n    |      |      |      |\n[DMZ]  [INT]  [MGMT] [GUEST]\n    |\n    +-- [Web-Server:172.16.1.10]\n    +-- [Mail-Server:172.16.1.20]\n    \n[INT] (Internal Network - 10.0.0.0/8)\n    |\n[Core-SW-01/02] HSRP VIP: 10.0.0.1\n    |\n    +-- [VLAN 10: Sales - 10.10.0.0/24] → 60 users\n    +-- [VLAN 20: Engineering - 10.20.0.0/24] → 80 users  \n    +-- [VLAN 50: Servers - 172.16.50.0/24] → 25 servers\n    |\n    +-- [Distribution Switches - 3x Catalyst 3850 Stack]\n    |\n    +-- [Access Switches - 15x Catalyst 2960-X]\n    |   ├── Ports 1-2: Uplinks (trunks)\n    |   ├── Ports 3-40: User access\n    |   └── Ports 41-48: Disabled (security)\n\n[MGMT] (Management Network - 192.168.99.0/24)\n    ├── Core-SW-01: 192.168.99.2\n    ├── Core-SW-02: 192.168.99.3\n    ├── Firewall-01: 192.168.99.10\n    ├── Firewall-02: 192.168.99.11\n    └── Monitoring Server: 192.168.99.200\n\n[GUEST] (Guest WiFi - 10.30.0.0/24)\n    └── 75 guest devices (isolated from corporate)\n\n[DMZ] (Demilitarized Zone - 172.16.1.0/24)\n    ├── Web Server: 172.16.1.10 (public: 203.0.113.10/32 via NAT)\n    ├── Mail Server: 172.16.1.20 (public: 203.0.113.20/32 via NAT)\n    └── Firewall rules: Allow from Internet → DMZ HTTP/S/SMTP only\n```\n\n### VLAN ISOLATION & FIREWALL RULES\n**Q1: How many separate network segments exist?** \nAnswer: 5 major segments (DMZ, VLAN 10-Sales, VLAN 20-Engineering, VLAN 50-Servers, VLAN 30-Guest, VLAN 99-Mgmt)\n\n**Q2: Which VLANs need firewall rules between them?**\nAnswer: \n- DMZ ↔ Servers (web server accesses database)\n- DMZ ↔ Internet (public access)\n- Guest ↔ All others (isolated for security)\n- Management ↔ All (SSH/SNMP access)\n- Sales/Engineering (limited inter-VLAN by default)\n\n**Q3: Path from Sales user (VLAN 10) to Database (VLAN 50)?**\nAnswer: \nSales User → Access Switch Gi1/0/3-40 (access mode, VLAN 10)\n  → Distribution Switch (trunk) → Core Switch (VLAN 10 SVI)\n  → Core L3 routing (10.10.0.0/24 → 172.16.50.0/24)\n  → Core Switch (VLAN 50 SVI) → Distribution Switch (trunk)\n  → Access Switch → Database Server (172.16.50.10)\n\n**Q4: Core-SW-01 failure impact?**\nAnswer: Immediate HSRP failover to Core-SW-02 (<3 seconds). No user outage due to redundancy.\n\n**Q5: Cardholder data isolation from guest network?**\nAnswer: \n- Firewall blocks all traffic between 10.30.0.0/24 (Guest) and 172.16.50.0/24 (Servers)\n- Separate VLAN (30 vs 50) prevents L2 switching\n- No shared subnets or routes between zones\n\n## ===================================================================\n## SCENARIO 2: IP ADDRESS MANAGEMENT (SOLUTION)\n## ===================================================================\n\n### COMPLETE IPAM SCHEME\n| VLAN | Subnet | Gateway | Network Size | DHCP Range | Static Reserve | Purpose |\n|------|--------|---------|--------------|------------|-----------------|----------|\n| 10 (Sales) | 10.10.0.0/24 | 10.10.0.1 | 254 IPs | 10.10.0.10-240 | 241-250 | 60 users + growth |\n| 20 (Eng) | 10.20.0.0/24 | 10.20.0.1 | 254 IPs | 10.20.0.10-240 | 241-250 | 80 users + growth |\n| 30 (Guest) | 10.30.0.0/24 | 10.30.0.1 | 254 IPs | 10.30.0.10-240 | 241-250 | 75 guests |\n| 50 (Servers) | 172.16.50.0/24 | 172.16.50.1 | 254 IPs | None | All static | 25 critical servers |\n| 99 (Mgmt) | 192.168.99.0/24 | 192.168.99.1 | 254 IPs | None | All static | Device management |\n| DMZ | 172.16.1.0/24 | 172.16.1.1 | 254 IPs | None | All static | Public services |\n| Core | 10.0.0.0/24 | 10.0.0.1 | 254 IPs | None | All static | Core backbone |\n\n### STATIC IP ASSIGNMENTS\n**Critical Devices:**\n- Core-SW-01: 192.168.99.2/24 (MAC: 00:1A:2B:3C:4D:01)\n- Core-SW-02: 192.168.99.3/24 (MAC: 00:1A:2B:3C:4D:02)\n- Firewall-01: 192.168.99.10/24 (MAC: 00:1A:2B:3C:4D:10)\n- Firewall-02: 192.168.99.11/24 (MAC: 00:1A:2B:3C:4D:11)\n- Web-Server: 172.16.50.10/24 (MAC: 00:50:56:C0:00:01)\n- DB-Server-Primary: 172.16.50.20/24 (MAC: 00:50:56:C0:00:02)\n- DB-Server-Replica: 172.16.50.21/24 (MAC: 00:50:56:C0:00:03)\n- File-Server: 172.16.50.30/24 (MAC: 00:50:56:C0:00:04)\n\n### Q&A FOR IPAM\n**Q1: Why use different RFC 1918 ranges?**\nAnswer: Separates concerns (DMZ on 172.16, servers on 172.16.50, user VLANs on 10.x, mgmt on 192.168). Prevents accidental overlap and simplifies routing rules.\n\n**Q2: DHCP vs Static justification?**\nAnswer: User devices (VLANs 10,20,30) use DHCP for flexibility. Servers and infrastructure use static IPs for reliability and firewall rules. Management uses static for out-of-band access.\n\n**Q3: Capacity for 60 sales users?**\nAnswer: 10.10.0.0/24 allows 254 usable IPs. With 60 users + 20% growth (72), plus printers/phones, range is adequate for 5+ years before subnetting needed.\n\n**Q4: Gateway selection?**\nAnswer: Gateway always .1 (industry standard). Routes to core switches via VLAN SVIs for high-speed inter-VLAN routing.\n\n**Q5: Disaster recovery IP scheme (remote site)?**\nAnswer: \n- Remote site uses same subnet scheme but different network (10.40.0.0/24 for Sales at remote, 10.50.0.0/24 for Eng, etc.)\n- Allows parallel infrastructure without IP conflicts\n- VPN tunnel can connect sites with separate routing\n\n## ===================================================================\n## SCENARIO 3: BACKUP & CONFIGURATION MANAGEMENT (SOLUTION)\n## ===================================================================\n\n### BACKUP STRATEGY\n**3-2-1 Backup Rule Implementation:**\n- Copy 1 (Primary): On-site NAS (RAID-6, daily automated backups)\n- Copy 2 (Secondary): On-site but different location (tape weekly)\n- Copy 3 (Off-site): AWS S3 Glacier (daily sync, 180+ day retention)\n\n**Backup Schedule:**\n| Device Type | Frequency | Retention | Method |\n|---|---|---|---|\n| Core switches | Daily 1 AM | 90 days | TFTP to NAS |\n| Distribution switches | Daily 2 AM | 60 days | TFTP to NAS |\n| Access switches | Weekly Saturday 2 AM | 30 days | TFTP to NAS |\n| Firewalls | Daily 12 AM | 180 days | SFTP to NAS |\n| Servers | Daily 11 PM | 90 days | Snapshot + incremental |\n\n**Recovery Procedures:**\n- Full device replacement: <30 minutes (backup restored)\n- Configuration recovery test: Monthly (verify backups restore correctly)\n- Off-site backup test: Quarterly (restore from AWS Glacier to lab)\n- Recovery documentation: Maintained in runbooks\n\n### CONFIGURATION MANAGEMENT PROCESS\n**SOP-001: Monthly Switch Baseline Verification**\n- Frequency: First Saturday of each month\n- Window: 2:00-4:00 AM EST\n- Steps:\n  1. Backup current config to TFTP\n  2. Compare against baseline (git diff)\n  3. Document any unauthorized changes\n  4. Review CPU/memory trends\n  5. Test failover if HSRP\n  6. Update documentation if changes justified\n  7. Notify change control of findings\n\n**Change Control Process:**\n1. Submit change request (CHG-XXXX) with justification\n2. CAB approval (network team + business stakeholder)\n3. Backup baseline configuration before change\n4. Implement with rollback plan documented\n5. Verify change successful\n6. Update documentation and commit to version control\n7. Close ticket with evidence (config diff, test results)\n\n### Q&A FOR BACKUP\n**Q1: Why 180-day retention for firewalls?**\nAnswer: PCI-DSS Requirement 3.5 mandates retention for forensic analysis of security incidents (legal hold, compliance audit).\n\n**Q2: Implementing 3-2-1 for this network?**\nAnswer: \n- Copy 1: Daily TFTP to on-site NAS (100GB)\n- Copy 2: Weekly tape rotation to different physical location\n- Copy 3: Daily S3 sync (lifecycle policy keeps 180+ days)\n\n**Q3: Incremental vs Differential?**\nAnswer: Incremental backups only changed blocks since last backup (faster, smaller). Differential backs up all changes since last full. Use incremental daily, full weekly for efficiency.\n\n**Q4: Minimal-bandwidth backup schedule?**\nAnswer: Core switches 1 AM (after business hours), access switches 2 AM, firewalls 12 AM. Spreads load, avoids peak business (9-5 PM) when links congested.\n\n**Q5: Recovering core switch failure?**\nAnswer:\n1. Determine failure (console access via OOB)\n2. Retrieve backup from TFTP server (NAS)\n3. Boot new switch or restore config to replacement\n4. Verify HSRP failover (standby takes over during recovery)\n5. Test all VLANs respond\n6. Document recovery time and actions\n\n## ===================================================================\n## SCENARIO 4: COMPLIANCE EVIDENCE PACKAGE (SOLUTION)\n## ===================================================================\n\n### DEVICE INVENTORY\n| Device ID | Hostname | Model | Serial # | IP Address | Location | Role | Warranty | Owner |\n|---|---|---|---|---|---|---|---|---|\n| NET-001 | Core-SW-01 | Catalyst 9500-48Y4C | FCW2234XXXX | 192.168.99.2 | MDF Rack A1 | Core L3 | 2026-01-15 | Ops |\n| NET-002 | Core-SW-02 | Catalyst 9500-48Y4C | FCW2234YYYY | 192.168.99.3 | MDF Rack A1 | Core L3 | 2026-01-15 | Ops |\n| NET-003 | FW-01 | ASA 5516-X | JMX223XXXX | 192.168.99.10 | MDF Rack A2 | Firewall Active | 2025-06-20 | Sec |\n| NET-004 | FW-02 | ASA 5516-X | JMX223YYYY | 192.168.99.11 | MDF Rack A2 | Firewall Standby | 2025-06-20 | Sec |\n\n### DOCUMENTATION VERSION CONTROL\n**Document Version History:**\n- v1.0: 2025-01-15 - Initial comprehensive documentation (post-audit)\n- v1.1: 2025-02-01 - Added remote site DR network diagram\n- v1.2: 2025-03-15 - Updated inventory after switch upgrade\n- Current: v1.2 (Last reviewed: 2025-11-30 - CURRENT)\n\n### MONTHLY DOCUMENTATION SOP\n**SOP-002: Documentation Review & Update**\n1. First business day each month: Review all network diagrams against actual config\n2. Compare IPAM table against running device configs (show ip route, show vlan)\n3. Update inventory if any hardware changes\n4. Note any variances in change control system\n5. Circulate updated docs to team\n6. Archive previous version in git\n7. Sign-off: Network Manager (validates accuracy)\n\n### EMERGENCY CONTACT & ESCALATION\n| Level | Role | Name | Phone | Email | Availability |\n|---|---|---|---|---|---|\n| 1 | On-call Engineer | Sarah Chen | 555-0100 | sarah.chen@techstart.com | 24/7 |\n| 2 | Network Manager | John Smith | 555-0101 | john.smith@techstart.com | Business hours |\n| 3 | IT Director | Linda Rodriguez | 555-0102 | linda.r@techstart.com | Escalation |\n| Ext | Cisco TAC | Support | 1-800-553-2447 | tac@cisco.com | 24/7 |\n| Ext | ISP NOC | FiberLink | 1-888-FIBER-1 | support@fiberlink.net | 24/7 |\n\n### RISK ASSESSMENT: DOCUMENTATION GAPS\n**Previous Audit Findings - NOW RESOLVED:**\n\n| Finding | Risk | Remediation | Status |\n|---|---|---|---|\n| No topology diagram | Cannot verify cardholder data isolation | Created logical & physical diagrams | ✓ RESOLVED |\n| Undocumented VLANs | VLAN misconfigurations undetected | Documented all 6 VLANs with firewall rules | ✓ RESOLVED |\n| No IPAM | IP conflicts cause outages | Created comprehensive IPAM with no overlaps | ✓ RESOLVED |\n| No backup procedure | 180-day retention non-compliant | Implemented 3-2-1 rule with Glacier | ✓ RESOLVED |\n| No device inventory | Asset management impossible | Created inventory with serials & warranty | ✓ RESOLVED |\n| No change control | Unauthorized changes undetected | Implemented CAB process with approvals | ✓ RESOLVED |\n\n### COMPLIANCE CHECKLIST\n- [X] PCI-DSS Req 1: Configuration standards documented with baseline\n- [X] PCI-DSS Req 2: Network topology diagram with all connections\n- [X] PCI-DSS Req 3: Backup retention 180+ days for firewalls\n- [X] SOC 2 Type II: IT controls documented and tested\n- [X] ISO 27001: Asset inventory with lifecycle management\n- [X] Documentation currency: Monthly review SOP implemented\n- [X] Approval process: CAB change control in place\n- [X] Recovery procedures: Tested quarterly\n\n## ===================================================================\n## DELIVERABLE SUMMARY\n## ===================================================================\n\n**ALL REQUIRED DOCUMENTS COMPLETED:**\n- [X] DIAGRAM: Logical topology (5 network segments documented)\n- [X] DIAGRAM: Physical infrastructure (rack locations, redundancy)\n- [X] TABLE: Complete IPAM (no overlapping subnets, growth capacity)\n- [X] TABLE: Device inventory (25 devices with serials, locations, IPs)\n- [X] TABLE: Static IP assignments (critical devices documented)\n- [X] DOCUMENT: Backup & recovery (3-2-1 rule, 180-day retention, RTO)\n- [X] DOCUMENT: Configuration management SOP (monthly reviews, change control)\n- [X] DOCUMENT: Emergency procedures (contacts, escalation, failover)\n- [X] DOCUMENT: Risk assessment (findings resolved with evidence)\n- [X] DOCUMENT: Version control (documentation tracked and current)\n\n**AUDIT-READY EVIDENCE:**\n- All previous audit findings remediated and documented\n- Configuration baselines established and tracked\n- Backup retention policy implemented and tested\n- Change control process with approval workflow\n- Device inventory complete with warranty tracking\n- Documentation updated monthly per SOP\n- Compliance checklist completed for PCI-DSS, SOC 2, ISO 27001",
  "hints": [
    "Network documentation is never complete - it's a living document requiring monthly reviews and updates",
    "PCI-DSS requires 180-day retention specifically for firewall configs due to forensic/incident investigation needs",
    "3-2-1 backup rule: 3 copies (protection from corruption), 2 media types (different failure modes), 1 off-site (site disaster)",
    "VLAN isolation is verified through firewall rules, not physical separation - document the ACLs that enforce segmentation",
    "RFC 1918 private ranges prevent IP conflicts and simplify design - never mix public IPs with private in internal network",
    "Static IP assignments must match MAC addresses in documentation for DHCP conflict prevention",
    "Baseline configurations serve as proof of compliance - store them in version control with change logs",
    "Documentation accuracy verified monthly by comparing against running configs - variances are audit findings",
    "Cardholder data isolation requires both VLAN separation AND firewall rules - document both",
    "Recovery Time Objective (RTO) determines backup strategy - faster RTO requires more frequent backups and off-site sync"
  ],
  "testCases": [
    {
      "id": "tc1-topology",
      "description": "Network topology accuracy - Documentation matches actual infrastructure with no IP conflicts or VLAN mismatches",
      "input": "Network topology",
      "expected": "HSRP, VLAN 10, VLAN 50, and 172.16 network documented",
      "assert": "assert 'HSRP' in solution and 'VLAN 10' in solution and 'VLAN 50' in solution and '172.16' in solution",
      "isHidden": false
    },
    {
      "id": "tc2-ipam",
      "description": "IPAM completeness - All VLANs have non-overlapping subnets with gateways",
      "input": "IP address management",
      "expected": "Non-overlapping subnets for all VLANs with gateway documentation",
      "assert": "assert '10.10.0.0/24' in solution and '10.20.0.0/24' in solution and '172.16.50.0/24' in solution and 'Gateway' in solution",
      "isHidden": false
    },
    {
      "id": "tc3-isolation",
      "description": "Cardholder data isolation - Firewall rules explicitly block guest from server VLAN",
      "input": "Network segmentation",
      "expected": "Guest and Server VLANs isolated with firewall rules",
      "assert": "assert 'Guest' in solution and 'Servers' in solution and ('firewall' in solution.lower() or 'block' in solution.lower())",
      "isHidden": false
    },
    {
      "id": "tc4-backup",
      "description": "Backup strategy compliance - 3-2-1 rule with 180-day retention",
      "input": "Backup strategy",
      "expected": "3-2-1 rule and 180-day retention documented",
      "assert": "assert ('3-2-1' in solution or 'Copy 1' in solution) and '180' in solution",
      "isHidden": false
    },
    {
      "id": "tc5-inventory",
      "description": "Device inventory completeness - All devices with model, serial, IP, location, warranty",
      "input": "Device inventory",
      "expected": "Complete device listing with all required attributes",
      "assert": "assert 'Serial' in solution and 'Warranty' in solution and 'Location' in solution and 'Core-SW' in solution",
      "isHidden": false
    },
    {
      "id": "tc6-sop",
      "description": "Configuration management SOP - Monthly review with change control",
      "input": "Operations procedures",
      "expected": "SOP documented with monthly review and change control",
      "assert": "assert 'SOP' in solution and 'monthly' in solution.lower() and 'change' in solution.lower()",
      "isHidden": false
    },
    {
      "id": "tc7-emergency",
      "description": "Emergency procedures - Escalation contacts and roles defined",
      "input": "Emergency escalation",
      "expected": "Multiple escalation levels with contact information",
      "assert": "assert 'Level 1' in solution and 'Level 2' in solution and 'Level 3' in solution",
      "isHidden": false
    },
    {
      "id": "tc8-compliance",
      "description": "Compliance evidence - Risk assessment with resolved audit findings",
      "input": "Compliance documentation",
      "expected": "Audit findings documented as resolved",
      "assert": "assert 'audit' in solution.lower() and 'RESOLVED' in solution",
      "isHidden": false
    },
    {
      "id": "tc9-rfc1918",
      "description": "RFC 1918 compliance - Only private IPs used (10.x, 172.16.x, 192.168.x)",
      "input": "Private IP ranges",
      "expected": "All IPs in RFC 1918 ranges",
      "assert": "assert ('10.' in solution and '192.168' in solution) or '172.16' in solution",
      "isHidden": false
    },
    {
      "id": "tc10-versioncontrol",
      "description": "Documentation version control - Version history tracked with dates",
      "input": "Version control",
      "expected": "Version history with change descriptions",
      "assert": "assert 'v1' in solution and ('2025' in solution or 'version' in solution.lower())",
      "isHidden": false
    },
    {
      "id": "tc11-scenarios",
      "description": "Multi-part scenarios - All 4 scenarios completed",
      "input": "Scenario completion",
      "expected": "All 4 scenarios (topology, IPAM, backup, compliance) addressed",
      "assert": "assert 'SCENARIO 1' in solution and 'SCENARIO 2' in solution and 'SCENARIO 3' in solution and 'SCENARIO 4' in solution",
      "isHidden": false
    },
    {
      "id": "tc12-filesize",
      "description": "Total file size - Comprehensive documentation 10,000+ characters",
      "input": "Document length",
      "expected": "Minimum 10,000 character comprehensive documentation",
      "assert": "assert len(solution) >= 10000",
      "isHidden": false
    }
  ]
}
