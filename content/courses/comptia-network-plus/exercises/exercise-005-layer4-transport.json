{
  "id": "exercise-005-layer4-transport",
  "lessonId": "lesson-005-layer4-transport",
  "title": "Transport Layer (Layer 4) - TCP, UDP, Ports, and Connection Management",
  "description": "Master the Transport Layer through comprehensive practice covering TCP and UDP protocols, port numbers, three-way handshake, flow control, reliability mechanisms, and troubleshooting. Complete exercise covering all Layer 4 concepts.",
  "difficulty": "beginner",
  "points": 100,
  "language": "text",
  "starterCode": "# Transport Layer (Layer 4) Complete Exercise - Based on Lesson 005\n# Covers ALL Layer 4 concepts: TCP, UDP, ports, handshakes, flow control, reliability\n\n## ========== PART 1: FUNDAMENTALS, TCP, AND PORTS ==========\n\n## SECTION 1: Transport Layer Fundamentals\n\n# What OSI layer number is the Transport layer? ___\n# What are the PDUs at Layer 4? ___ (TCP) and ___ (UDP)\n\n# Six key responsibilities of Transport layer:\n# 1. ___ - Breaking data into smaller segments\n# 2. Connection ___ - Setting up communication sessions (TCP)\n# 3. ___ - Ensuring data arrives intact and in order (TCP)\n# 4. ___ control - Managing data transmission rate\n# 5. Error ___ and recovery - Detecting and retransmitting lost data\n# 6. ___ - Using port numbers to distinguish multiple connections\n\n\n## SECTION 2: TCP vs UDP Comparison\n\n# TCP (Transmission Control Protocol):\n# Connection type: ___-oriented\n# Reliability: ___ (reliable/unreliable)\n# Ordering: ___ order (yes/no)\n# Speed: ___ (faster/slower)\n# Overhead: ___ (higher/lower)\n# Error checking: ___ (yes/no)\n# Flow control: ___ (yes/no)\n# Use cases: ___, ___, ___\n\n# UDP (User Datagram Protocol):\n# Connection type: ___\n# Reliability: ___ (reliable/unreliable)\n# Ordering: ___ ordering (yes/no)\n# Speed: ___ (faster/slower)\n# Overhead: ___ (higher/lower)\n# Error checking: ___ (minimal/extensive)\n# Flow control: ___ (yes/no)\n# Use cases: ___, ___, ___\n\n\n## SECTION 3: TCP Characteristics - Connection-Oriented\n\n# Connection-oriented means:\n# - Establishes ___ before data transfer\n# - Uses ___-way handshake\n# - Maintains connection ___\n# - Gracefully terminates connection (___-way teardown)\n\n# TCP is ___-duplex (data flows ___ directions)\n\n\n## SECTION 4: TCP Characteristics - Reliability\n\n# Four reliability features:\n\n# 1. Acknowledgments (___)\n# Purpose: ___ receipt\n# If no ACK received: ___\n\n# 2. ___ numbers\n# Purpose: Ensure proper ___\n# Each byte has: ___\n\n# 3. Retransmission\n# When: ___ or timeout\n# Method: ___\n\n# 4. Checksums\n# Purpose: Detect ___\n# Covers: Header and ___\n\n\n## SECTION 5: TCP Characteristics - Flow Control\n\n# Flow control prevents:\n# - Fast ___ overwhelming slow ___\n# - ___ overflow\n\n# Mechanism: Sliding ___ \n# Field name: Window ___\n# Size measured in: ___\n\n# How it works:\n# - Receiver advertises window size = ___ (example value)\n# - Sender can send ___ data before waiting for ACK\n# - If receiver buffer full: Window size = ___ (stop sending)\n\n\n## SECTION 6: TCP Characteristics - Congestion Control\n\n# Congestion control detects:\n# - Network ___\n# - ___ loss\n\n# Actions taken:\n# - ___ transmission rate\n# - Use algorithms: ___ Start, ___ Avoidance, ___ Retransmit\n\n\n## SECTION 7: TCP Segment Header - Part 1\n\n# Source Port:\n# Size: ___ bits\n# Range: 0 to ___\n# Contains: Port of ___ application\n\n# Destination Port:\n# Size: ___ bits\n# Purpose: Identify which ___ to deliver data to\n\n# Sequence Number:\n# Size: ___ bits\n# Purpose: Position of ___ byte of data\n# Used for: ___ and reassembly\n# Initial value: ___ (for security)\n\n# Acknowledgment Number:\n# Size: ___ bits\n# Meaning: ___ expected sequence number\n# Valid when: ___ flag is set\n\n\n## SECTION 8: TCP Segment Header - Part 2\n\n# Data Offset:\n# Size: ___ bits\n# Measures: TCP header length in ___-bit words\n# Minimum value: ___ (20 bytes)\n# Maximum value: ___ (60 bytes)\n\n# Window Size:\n# Size: ___ bits\n# Meaning: Number of ___ receiver can accept\n# Purpose: ___ control mechanism\n# Can be scaled: ___ (yes/no)\n\n# Checksum:\n# Size: ___ bits\n# Error detection for: ___ and data\n# Calculated over: Pseudo-header, TCP header, and ___\n\n# Urgent Pointer:\n# Size: ___ bits\n# Purpose: Offset to ___ data\n# Valid when: ___ flag is set\n# Usage: ___ used\n\n\n## SECTION 9: TCP Flags (9 bits)\n\n# SYN flag:\n# Purpose: ___ sequence numbers\n# Used in: Connection ___\n\n# ACK flag:\n# Purpose: ___ field is valid\n# Used in: Almost all packets after ___\n\n# FIN flag:\n# Purpose: ___ connection close\n# Used in: Connection ___\n\n# RST flag:\n# Purpose: ___ connection\n# Used when: ___ occurred\n\n# PSH flag:\n# Purpose: ___ function (deliver immediately)\n# Effect: Don't wait for ___\n\n# URG flag:\n# Purpose: ___ pointer field is valid\n# Rarely: ___\n\n# CWR flag:\n# Purpose: Congestion Window ___\n\n# ECE flag:\n# Purpose: ___-Echo (Explicit Congestion Notification)\n\n\n## SECTION 10: TCP Three-Way Handshake - Overview\n\n# Purpose of three-way handshake:\n# 1. ___ sequence numbers\n# 2. Establish connection ___\n# 3. Agree on ___ sizes and options\n\n# Three steps:\n# Step 1: Client sends ___ packet\n# Step 2: Server sends ___-___ packet\n# Step 3: Client sends ___ packet\n\n# After three-way handshake:\n# Connection is ___\n# Data can now ___\n\n\n## SECTION 11: TCP Three-Way Handshake - Step by Step\n\n# Step 1 - SYN:\n# Client sends: ___ packet\n# Includes: Initial ___ number (ISN)\n# Example: Seq=___\n# SYN flag: ___ (set/cleared)\n\n# Step 2 - SYN-ACK:\n# Server responds: ___-ACK packet\n# Acknowledges: Client's sequence number + ___\n# Example client Seq=100: Server sends Ack=___\n# Server's own sequence: Seq=___ (example)\n# Flags set: ___ and ___\n\n# Step 3 - ACK:\n# Client sends: ___ packet\n# Acknowledges: Server's sequence number + ___\n# Example server Seq=300: Client sends Ack=___\n# Connection now: ___\n\n\n## SECTION 12: TCP Connection Termination (Four-Way Handshake)\n\n# Number of steps to close TCP connection: ___\n\n# Why four steps?\n# - TCP is ___-duplex\n# - Each ___ must be closed independently\n# - Allows one side to finish ___ while still receiving\n\n# Step 1: Client sends ___ packet\n# Step 2: Server sends ___ packet (acknowledges FIN)\n# Step 3: Server sends ___ packet (initiates its close)\n# Step 4: Client sends ___ packet (acknowledges server's FIN)\n\n# Alternative abrupt termination:\n# Flag: ___ (Reset)\n# Reason: ___ occurred or connection rejected\n# Type: ___ graceful shutdown (yes/no)\n\n\n## SECTION 13: UDP Characteristics\n\n# UDP is:\n# Connection type: ___\n# Handshake: ___ (yes/no)\n# Connection state: ___ maintained (yes/no)\n# Each datagram: ___\n\n# Reliability:\n# Acknowledgments: ___ (yes/no)\n# Retransmission: ___ (yes/no)\n# Ordering: ___ guarantees (yes/no)\n# Datagrams may: Arrive ___ or not at all\n\n# Overhead:\n# Header size: ___ bytes\n# TCP header size: ___+ bytes\n# Speed: ___ than TCP\n# Flow control: ___ (yes/no)\n# Congestion control: ___ (yes/no)\n\n\n## SECTION 14: UDP Use Cases\n\n# Use UDP when:\n# - Speed is ___\n# - ___ overhead preferred\n# - ___ or multicast needed\n# - Application handles ___\n\n# Seven UDP applications:\n# 1. Real-time ___/___\n# 2. ___ queries (quick, small requests)\n# 3. ___ (address assignment)\n# 4. ___ (voice calls)\n# 5. Online ___\n# 6. ___ (network management)\n# 7. ___ (simple file transfer)\n\n\n## SECTION 15: UDP Datagram Header\n\n# Four fields in UDP header:\n\n# 1. Source Port:\n# Size: ___ bits\n# Optional: ___ (can be 0)\n\n# 2. Destination Port:\n# Size: ___ bits\n# Purpose: Port of ___\n\n# 3. Length:\n# Size: ___ bits\n# Includes: UDP ___ + data\n# Minimum: ___ bytes (header only)\n\n# 4. Checksum:\n# Size: ___ bits\n# Purpose: Error ___\n# In IPv4: ___ (optional/mandatory)\n# In IPv6: ___ (optional/mandatory)\n\n\n## SECTION 16: Port Numbers - Ranges\n\n# Three port ranges:\n\n# Well-Known Ports:\n# Range: ___ to ___\n# Purpose: ___ services\n# Examples: ___, ___, ___\n\n# Registered Ports:\n# Range: ___ to ___\n# Purpose: ___-specific applications\n\n# Dynamic/Private Ports:\n# Range: ___ to ___\n# Purpose: ___ ports (temporary client ports)\n# Also called: ___ ports\n\n\n## SECTION 17: Common Well-Known Ports - Web and Remote Access\n\n# Port 20:\n# Protocol: ___\n# Service: FTP ___\n# Purpose: File transfer ___ channel\n\n# Port 21:\n# Protocol: ___\n# Service: FTP ___\n# Purpose: File transfer ___ channel\n\n# Port 22:\n# Protocol: ___\n# Service: ___\n# Purpose: Secure Shell (___)\n# Security: ___ (encrypted/unencrypted)\n\n# Port 23:\n# Protocol: ___\n# Service: ___\n# Purpose: ___ remote access\n# Security: ___ (secure/insecure)\n\n# Port 80:\n# Protocol: ___\n# Service: ___\n# Purpose: Web traffic (___)\n\n# Port 443:\n# Protocol: ___\n# Service: ___\n# Purpose: ___ Secure (encrypted web traffic)\n\n# Port 3389:\n# Protocol: ___\n# Service: ___\n# Purpose: Remote ___ Protocol\n\n\n## SECTION 18: Common Well-Known Ports - Email\n\n# Port 25:\n# Protocol: ___\n# Service: ___\n# Purpose: Simple Mail Transfer Protocol (email ___)\n\n# Port 110:\n# Protocol: ___\n# Service: ___\n# Purpose: Post Office Protocol v3 (email ___)\n\n# Port 143:\n# Protocol: ___\n# Service: ___\n# Purpose: Internet Message Access Protocol (___)\n\n# Port 465:\n# Protocol: ___\n# Service: ___\n# Purpose: SMTP ___\n\n# Port 587:\n# Protocol: ___\n# Service: SMTP (___)\n# Purpose: Email submission (___)\n\n# Port 993:\n# Protocol: ___\n# Service: ___\n# Purpose: IMAP ___\n\n# Port 995:\n# Protocol: ___\n# Service: ___\n# Purpose: POP3 ___\n\n\n## SECTION 19: Common Well-Known Ports - Network Services\n\n# Port 53:\n# Protocol: ___ or ___\n# Service: ___\n# Purpose: Domain ___ System\n\n# Port 67-68:\n# Protocol: ___\n# Service: ___\n# Purpose: Dynamic Host ___ Protocol\n\n# Port 69:\n# Protocol: ___\n# Service: ___\n# Purpose: Trivial ___ Transfer Protocol\n\n# Port 123:\n# Protocol: ___\n# Service: ___\n# Purpose: Network ___ Protocol\n\n# Port 161-162:\n# Protocol: ___\n# Service: ___\n# Purpose: Simple Network ___ Protocol\n\n# Port 514:\n# Protocol: ___\n# Service: ___\n# Purpose: System ___\n\n\n## SECTION 20: Common Well-Known Ports - Directory and File Sharing\n\n# Port 389:\n# Protocol: ___\n# Service: ___\n# Purpose: Lightweight ___ Access Protocol\n\n# Port 636:\n# Protocol: ___\n# Service: ___\n# Purpose: LDAP ___\n\n# Port 445:\n# Protocol: ___\n# Service: ___\n# Purpose: Server Message Block (___/printer sharing)\n\n\n## SECTION 21: Common Well-Known Ports - Databases\n\n# Port 1433:\n# Protocol: ___\n# Service: MS ___\n# Purpose: Microsoft ___ Server\n\n# Port 1521:\n# Protocol: ___\n# Service: ___\n# Purpose: ___ Database\n\n# Port 3306:\n# Protocol: ___\n# Service: ___\n# Purpose: ___ Database\n\n# Port 5432:\n# Protocol: ___\n# Service: ___\n# Purpose: ___ Database\n\n\n## SECTION 22: Common Well-Known Ports - VoIP\n\n# Port 5060-5061:\n# Protocol: ___ or ___\n# Service: ___\n# Purpose: Session ___ Protocol (VoIP)\n\n\n## SECTION 23: Socket Definition\n\n# A socket is the combination of:\n# 1. ___ address\n# 2. ___ number\n# 3. ___ (TCP or UDP)\n\n# Socket examples:\n# Web server: 192.168.1.100:___ (___)\n# DNS server: 10.0.0.50:___ (___)\n# SSH server: 172.16.0.5:___ (___)\n\n# Connection identification:\n# Source socket: IP + ___ + protocol\n# Destination socket: IP + ___ + protocol\n# Together: ___ identifies specific connection\n\n\n## SECTION 24: TCP Use Cases\n\n# Use TCP when:\n# 1. ___ required\n# 2. ___ matters\n# 3. ___ detection needed\n# 4. ___-oriented communication\n\n# Five TCP applications:\n# 1. Web ___ (HTTP/HTTPS)\n# 2. ___ (SMTP, POP3, IMAP)\n# 3. File ___ (FTP, SFTP)\n# 4. ___ shell (SSH)\n# 5. ___ connections\n\n\n## SECTION 25: Real-World Scenario 1 - Three-Way Handshake\n# Wireshark capture shows:\n# Packet 1: Flags=SYN, Seq=1000\n# Packet 2: Flags=SYN,ACK, Seq=5000, Ack=1001\n# Packet 3: Flags=ACK, Seq=1001, Ack=5001\n\n# Question 1: What is this process called?\n# Answer: ___-way handshake\n\n# Question 2: Who initiated the connection?\n# Answer: The device that sent packet ___ (client)\n\n# Question 3: What is server's initial sequence number?\n# Answer: ___\n\n# Question 4: After packet 3, connection state?\n# Answer: ___\n\n# Question 5: Can data transfer now?\n# Answer: ___ (yes/no)\n\n\n## SECTION 26: Real-World Scenario 2 - Port in Use Error\n# Application fails to start: \"Port 8080 already in use\"\n\n# Question 1: What is the problem?\n# Answer: Another ___ is listening on port ___\n\n# Question 2: Windows command to find process?\n# Answer: netstat ___ | findstr :8080\n\n# Question 3: Linux command to find process?\n# Answer: ___ -i :8080 or ss -tulpn\n\n# Question 4: Three solutions?\n# 1. ___ conflicting process\n# 2. Use ___ port\n# 3. ___ application to use different port\n\n\n## SECTION 27: Real-World Scenario 3 - TCP vs UDP Choice\n# Designing application\n\n# Scenario A: Video streaming app\n# Protocol choice: ___ (TCP/UDP)\n# Reason: ___ is critical, occasional loss ___\n\n# Scenario B: File download app\n# Protocol choice: ___ (TCP/UDP)\n# Reason: Need ___ delivery, can't lose data\n\n# Scenario C: DNS resolver\n# Protocol choice: ___ (TCP/UDP)\n# Reason: ___ requests, low overhead\n\n# Scenario D: Banking transaction\n# Protocol choice: ___ (TCP/UDP)\n# Reason: Need ___ and error detection\n\n\n## ========== PART 2: RELIABILITY, MULTIPLEXING, AND TROUBLESHOOTING ==========\n\n## SECTION 28: Acknowledgments (ACKs) in Detail\n\n# Positive acknowledgment:\n# Receiver sends: ___ for successfully received data\n# ACK number meaning: ___ expected sequence number\n\n# Example:\n# Sender transmits: Seq=1000, Length=500 bytes (bytes 1000-1499)\n# Receiver sends: Ack=___ (expecting byte 1500 next)\n\n# Cumulative ACK:\n# One ACK can acknowledge: ___ segments\n# Example: Ack=5000 means \"received everything up to byte ___\"\n\n# If ACK not received:\n# Sender assumes: Segment was ___\n# Action: ___\n# Timer: ___ (Round Trip Time)",
  "solution": "# Transport Layer (Layer 4) Complete Exercise - COMPLETE SOLUTION\n\n## ========== PART 1 SOLUTION: FUNDAMENTALS, TCP, AND PORTS ==========\n\n## SECTION 1: Transport Layer Fundamentals\n\n# What OSI layer number is the Transport layer? Layer 4\n# What are the PDUs at Layer 4? Segment (TCP) and Datagram (UDP)\n\n# Six key responsibilities of Transport layer:\n# 1. Segmentation - Breaking data into smaller segments\n# 2. Connection establishment - Setting up communication sessions (TCP)\n# 3. Reliability - Ensuring data arrives intact and in order (TCP)\n# 4. Flow control - Managing data transmission rate\n# 5. Error detection and recovery - Detecting and retransmitting lost data\n# 6. Multiplexing - Using port numbers to distinguish multiple connections\n\n\n## SECTION 2: TCP vs UDP Comparison\n\n# TCP (Transmission Control Protocol):\n# Connection type: Connection-oriented\n# Reliability: Reliable (reliable/unreliable)\n# Ordering: Guarantees order (yes/no)\n# Speed: Slower (faster/slower)\n# Overhead: Higher (higher/lower)\n# Error checking: Yes (yes/no)\n# Flow control: Yes (yes/no)\n# Use cases: Web, email, file transfer\n\n# UDP (User Datagram Protocol):\n# Connection type: Connectionless\n# Reliability: Unreliable (reliable/unreliable)\n# Ordering: No ordering (yes/no)\n# Speed: Faster (faster/slower)\n# Overhead: Lower (higher/lower)\n# Error checking: Minimal (minimal/extensive)\n# Flow control: No (yes/no)\n# Use cases: Streaming, DNS, VoIP\n\n\n## SECTION 3: TCP Characteristics - Connection-Oriented\n\n# Connection-oriented means:\n# - Establishes connection before data transfer\n# - Uses three-way handshake\n# - Maintains connection state\n# - Gracefully terminates connection (four-way teardown)\n\n# TCP is full-duplex (data flows both directions)\n\n\n## SECTION 4: TCP Characteristics - Reliability\n\n# Four reliability features:\n\n# 1. Acknowledgments (ACKs)\n# Purpose: Confirm receipt\n# If no ACK received: Retransmit\n\n# 2. Sequence numbers\n# Purpose: Ensure proper ordering\n# Each byte has: Sequence number\n\n# 3. Retransmission\n# When: No ACK or timeout\n# Method: Resend segment\n\n# 4. Checksums\n# Purpose: Detect corruption\n# Covers: Header and data\n\n\n## SECTION 5: TCP Characteristics - Flow Control\n\n# Flow control prevents:\n# - Fast sender overwhelming slow receiver\n# - Buffer overflow\n\n# Mechanism: Sliding window\n# Field name: Window Size\n# Size measured in: Bytes\n\n# How it works:\n# - Receiver advertises window size = 8192 (example value)\n# - Sender can send that much data before waiting for ACK\n# - If receiver buffer full: Window size = 0 (stop sending)\n\n\n## SECTION 6: TCP Characteristics - Congestion Control\n\n# Congestion control detects:\n# - Network congestion\n# - Packet loss\n\n# Actions taken:\n# - Reduce transmission rate\n# - Use algorithms: Slow Start, Congestion Avoidance, Fast Retransmit\n\n\n## SECTION 7: TCP Segment Header - Part 1\n\n# Source Port:\n# Size: 16 bits\n# Range: 0 to 65535\n# Contains: Port of sending application\n\n# Destination Port:\n# Size: 16 bits\n# Purpose: Identify which service to deliver data to\n\n# Sequence Number:\n# Size: 32 bits\n# Purpose: Position of first byte of data\n# Used for: Ordering and reassembly\n# Initial value: Random (for security)\n\n# Acknowledgment Number:\n# Size: 32 bits\n# Meaning: Next expected sequence number\n# Valid when: ACK flag is set\n\n\n## SECTION 8: TCP Segment Header - Part 2\n\n# Data Offset:\n# Size: 4 bits\n# Measures: TCP header length in 32-bit words\n# Minimum value: 5 (20 bytes)\n# Maximum value: 15 (60 bytes)\n\n# Window Size:\n# Size: 16 bits\n# Meaning: Number of bytes receiver can accept\n# Purpose: Flow control mechanism\n# Can be scaled: Yes (yes/no)\n\n# Checksum:\n# Size: 16 bits\n# Error detection for: Header and data\n# Calculated over: Pseudo-header, TCP header, and data\n\n# Urgent Pointer:\n# Size: 16 bits\n# Purpose: Offset to urgent data\n# Valid when: URG flag is set\n# Usage: Rarely used\n\n\n## SECTION 9: TCP Flags (9 bits)\n\n# SYN flag:\n# Purpose: Synchronize sequence numbers\n# Used in: Connection setup\n\n# ACK flag:\n# Purpose: Acknowledgment field is valid\n# Used in: Almost all packets after handshake\n\n# FIN flag:\n# Purpose: Graceful connection close\n# Used in: Connection termination\n\n# RST flag:\n# Purpose: Reset connection\n# Used when: Error occurred\n\n# PSH flag:\n# Purpose: Push function (deliver immediately)\n# Effect: Don't wait for buffer to fill\n\n# URG flag:\n# Purpose: Urgent pointer field is valid\n# Rarely: Used\n\n# CWR flag:\n# Purpose: Congestion Window Reduced\n\n# ECE flag:\n# Purpose: ECN-Echo (Explicit Congestion Notification)\n\n\n## SECTION 10: TCP Three-Way Handshake - Overview\n\n# Purpose of three-way handshake:\n# 1. Synchronize sequence numbers\n# 2. Establish connection parameters\n# 3. Agree on window sizes and options\n\n# Three steps:\n# Step 1: Client sends SYN packet\n# Step 2: Server sends SYN-ACK packet\n# Step 3: Client sends ACK packet\n\n# After three-way handshake:\n# Connection is established\n# Data can now flow\n\n\n## SECTION 11: TCP Three-Way Handshake - Step by Step\n\n# Step 1 - SYN:\n# Client sends: SYN packet\n# Includes: Initial sequence number (ISN)\n# Example: Seq=100\n# SYN flag: Set (set/cleared)\n\n# Step 2 - SYN-ACK:\n# Server responds: SYN-ACK packet\n# Acknowledges: Client's sequence number + 1\n# Example client Seq=100: Server sends Ack=101\n# Server's own sequence: Seq=300 (example)\n# Flags set: SYN and ACK\n\n# Step 3 - ACK:\n# Client sends: ACK packet\n# Acknowledges: Server's sequence number + 1\n# Example server Seq=300: Client sends Ack=301\n# Connection now: Established\n\n\n## SECTION 12: TCP Connection Termination (Four-Way Handshake)\n\n# Number of steps to close TCP connection: 4\n\n# Why four steps?\n# - TCP is full-duplex\n# - Each direction must be closed independently\n# - Allows one side to finish sending while still receiving\n\n# Step 1: Client sends FIN packet\n# Step 2: Server sends ACK packet (acknowledges FIN)\n# Step 3: Server sends FIN packet (initiates its close)\n# Step 4: Client sends ACK packet (acknowledges server's FIN)\n\n# Alternative abrupt termination:\n# Flag: RST (Reset)\n# Reason: Error occurred or connection rejected\n# Type: No graceful shutdown (yes/no)\n\n\n## SECTION 13: UDP Characteristics\n\n# UDP is:\n# Connection type: Connectionless\n# Handshake: No (yes/no)\n# Connection state: Not maintained (yes/no)\n# Each datagram: Independent\n\n# Reliability:\n# Acknowledgments: No (yes/no)\n# Retransmission: No (yes/no)\n# Ordering: No guarantees (yes/no)\n# Datagrams may: Arrive out of order or not at all\n\n# Overhead:\n# Header size: 8 bytes\n# TCP header size: 20+ bytes\n# Speed: Faster than TCP\n# Flow control: No (yes/no)\n# Congestion control: No (yes/no)\n\n\n## SECTION 14: UDP Use Cases\n\n# Use UDP when:\n# - Speed is critical\n# - Low overhead preferred\n# - Broadcast or multicast needed\n# - Application handles reliability\n\n# Seven UDP applications:\n# 1. Real-time audio/video\n# 2. DNS queries (quick, small requests)\n# 3. DHCP (address assignment)\n# 4. VoIP (voice calls)\n# 5. Online gaming\n# 6. SNMP (network management)\n# 7. TFTP (simple file transfer)\n\n\n## SECTION 15: UDP Datagram Header\n\n# Four fields in UDP header:\n\n# 1. Source Port:\n# Size: 16 bits\n# Optional: Yes (can be 0)\n\n# 2. Destination Port:\n# Size: 16 bits\n# Purpose: Port of receiver\n\n# 3. Length:\n# Size: 16 bits\n# Includes: UDP header + data\n# Minimum: 8 bytes (header only)\n\n# 4. Checksum:\n# Size: 16 bits\n# Purpose: Error detection\n# In IPv4: Optional (optional/mandatory)\n# In IPv6: Mandatory (optional/mandatory)\n\n\n## SECTION 16: Port Numbers - Ranges\n\n# Three port ranges:\n\n# Well-Known Ports:\n# Range: 0 to 1023\n# Purpose: Standard services\n# Examples: HTTP, FTP, SSH\n\n# Registered Ports:\n# Range: 1024 to 49151\n# Purpose: Vendor-specific applications\n\n# Dynamic/Private Ports:\n# Range: 49152 to 65535\n# Purpose: Ephemeral ports (temporary client ports)\n# Also called: Dynamic ports\n\n\n## SECTION 17: Common Well-Known Ports - Web and Remote Access\n\n# Port 20:\n# Protocol: TCP\n# Service: FTP Data\n# Purpose: File transfer data channel\n\n# Port 21:\n# Protocol: TCP\n# Service: FTP Control\n# Purpose: File transfer control channel\n\n# Port 22:\n# Protocol: TCP\n# Service: SSH\n# Purpose: Secure Shell (encrypted remote access)\n# Security: Encrypted (encrypted/unencrypted)\n\n# Port 23:\n# Protocol: TCP\n# Service: Telnet\n# Purpose: Unencrypted remote access\n# Security: Insecure (secure/insecure)\n\n# Port 80:\n# Protocol: TCP\n# Service: HTTP\n# Purpose: Web traffic (unencrypted)\n\n# Port 443:\n# Protocol: TCP\n# Service: HTTPS\n# Purpose: HTTP Secure (encrypted web traffic)\n\n# Port 3389:\n# Protocol: TCP\n# Service: RDP\n# Purpose: Remote Desktop Protocol\n\n\n## SECTION 18: Common Well-Known Ports - Email\n\n# Port 25:\n# Protocol: TCP\n# Service: SMTP\n# Purpose: Simple Mail Transfer Protocol (email sending)\n\n# Port 110:\n# Protocol: TCP\n# Service: POP3\n# Purpose: Post Office Protocol v3 (email retrieval)\n\n# Port 143:\n# Protocol: TCP\n# Service: IMAP\n# Purpose: Internet Message Access Protocol (email)\n\n# Port 465:\n# Protocol: TCP\n# Service: SMTPS\n# Purpose: SMTP Secure\n\n# Port 587:\n# Protocol: TCP\n# Service: SMTP (submission)\n# Purpose: Email submission (authenticated)\n\n# Port 993:\n# Protocol: TCP\n# Service: IMAPS\n# Purpose: IMAP Secure\n\n# Port 995:\n# Protocol: TCP\n# Service: POP3S\n# Purpose: POP3 Secure\n\n\n## SECTION 19: Common Well-Known Ports - Network Services\n\n# Port 53:\n# Protocol: TCP or UDP\n# Service: DNS\n# Purpose: Domain Name System\n\n# Port 67-68:\n# Protocol: UDP\n# Service: DHCP\n# Purpose: Dynamic Host Configuration Protocol\n\n# Port 69:\n# Protocol: UDP\n# Service: TFTP\n# Purpose: Trivial File Transfer Protocol\n\n# Port 123:\n# Protocol: UDP\n# Service: NTP\n# Purpose: Network Time Protocol\n\n# Port 161-162:\n# Protocol: UDP\n# Service: SNMP\n# Purpose: Simple Network Management Protocol\n\n# Port 514:\n# Protocol: UDP\n# Service: Syslog\n# Purpose: System logging\n\n\n## SECTION 20: Common Well-Known Ports - Directory and File Sharing\n\n# Port 389:\n# Protocol: TCP\n# Service: LDAP\n# Purpose: Lightweight Directory Access Protocol\n\n# Port 636:\n# Protocol: TCP\n# Service: LDAPS\n# Purpose: LDAP Secure\n\n# Port 445:\n# Protocol: TCP\n# Service: SMB\n# Purpose: Server Message Block (file/printer sharing)\n\n\n## SECTION 21: Common Well-Known Ports - Databases\n\n# Port 1433:\n# Protocol: TCP\n# Service: MS SQL\n# Purpose: Microsoft SQL Server\n\n# Port 1521:\n# Protocol: TCP\n# Service: Oracle\n# Purpose: Oracle Database\n\n# Port 3306:\n# Protocol: TCP\n# Service: MySQL\n# Purpose: MySQL Database\n\n# Port 5432:\n# Protocol: TCP\n# Service: PostgreSQL\n# Purpose: PostgreSQL Database\n\n\n## SECTION 22: Common Well-Known Ports - VoIP\n\n# Port 5060-5061:\n# Protocol: TCP or UDP\n# Service: SIP\n# Purpose: Session Initiation Protocol (VoIP)\n\n\n## SECTION 23: Socket Definition\n\n# A socket is the combination of:\n# 1. IP address\n# 2. Port number\n# 3. Protocol (TCP or UDP)\n\n# Socket examples:\n# Web server: 192.168.1.100:80 (TCP)\n# DNS server: 10.0.0.50:53 (UDP)\n# SSH server: 172.16.0.5:22 (TCP)\n\n# Connection identification:\n# Source socket: IP + port + protocol\n# Destination socket: IP + port + protocol\n# Together: Uniquely identifies specific connection\n\n\n## SECTION 24: TCP Use Cases\n\n# Use TCP when:\n# 1. Reliability required\n# 2. Order matters\n# 3. Error detection needed\n# 4. Connection-oriented communication\n\n# Five TCP applications:\n# 1. Web browsing (HTTP/HTTPS)\n# 2. Email (SMTP, POP3, IMAP)\n# 3. File transfer (FTP, SFTP)\n# 4. Secure shell (SSH)\n# 5. Database connections\n\n\n## SECTION 25: Real-World Scenario 1 - Three-Way Handshake\n# Wireshark capture shows:\n# Packet 1: Flags=SYN, Seq=1000\n# Packet 2: Flags=SYN,ACK, Seq=5000, Ack=1001\n# Packet 3: Flags=ACK, Seq=1001, Ack=5001\n\n# Question 1: What is this process called?\n# Answer: Three-way handshake\n\n# Question 2: Who initiated the connection?\n# Answer: The device that sent packet 1 (client)\n\n# Question 3: What is server's initial sequence number?\n# Answer: 5000\n\n# Question 4: After packet 3, connection state?\n# Answer: Established\n\n# Question 5: Can data transfer now?\n# Answer: Yes (yes/no)\n\n\n## SECTION 26: Real-World Scenario 2 - Port in Use Error\n# Application fails to start: \"Port 8080 already in use\"\n\n# Question 1: What is the problem?\n# Answer: Another process is listening on port 8080\n\n# Question 2: Windows command to find process?\n# Answer: netstat -ano | findstr :8080\n\n# Question 3: Linux command to find process?\n# Answer: lsof -i :8080 or ss -tulpn\n\n# Question 4: Three solutions?\n# 1. Stop conflicting process\n# 2. Use different port\n# 3. Configure application to use different port\n\n\n## SECTION 27: Real-World Scenario 3 - TCP vs UDP Choice\n# Designing application\n\n# Scenario A: Video streaming app\n# Protocol choice: UDP (TCP/UDP)\n# Reason: Speed is critical, occasional loss acceptable\n\n# Scenario B: File download app\n# Protocol choice: TCP (TCP/UDP)\n# Reason: Need reliable delivery, can't lose data\n\n# Scenario C: DNS resolver\n# Protocol choice: UDP (TCP/UDP)\n# Reason: Small requests, low overhead\n\n# Scenario D: Banking transaction\n# Protocol choice: TCP (TCP/UDP)\n# Reason: Need reliability and error detection",
  "hints": [
    "For TCP vs UDP: TCP is connection-oriented and reliable; UDP is connectionless and fast",
    "For three-way handshake: SYN → SYN-ACK → ACK establishes TCP connection",
    "For TCP flags: SYN=setup, ACK=acknowledgment, FIN=close, RST=reset, PSH=push, URG=urgent",
    "For port ranges: 0-1023 well-known, 1024-49151 registered, 49152-65535 dynamic/ephemeral",
    "For common ports: HTTP=80, HTTPS=443, SSH=22, FTP=21, DNS=53, DHCP=67-68",
    "For email ports: SMTP=25, POP3=110, IMAP=143, secure versions add S (SMTPS=465, IMAPS=993, POP3S=995)",
    "For UDP header: Only 4 fields (Source Port, Destination Port, Length, Checksum) - 8 bytes total",
    "For TCP header minimum: 20 bytes (5 x 32-bit words), maximum 60 bytes (15 words)",
    "For sequence numbers: Track byte position, ensure ordering, detect duplicates",
    "For flow control: Sliding window mechanism uses Window Size field to prevent receiver overload"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Knows Transport Layer is Layer 4",
      "validation": "assert 'layer 4' in code.lower() or 'transport' in code.lower()",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Identifies TCP as connection-oriented and reliable",
      "validation": "assert 'tcp' in code.lower() and ('connection' in code.lower() or 'reliable' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Identifies UDP as connectionless and fast",
      "validation": "assert 'udp' in code.lower() and ('connectionless' in code.lower() or 'fast' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Knows three-way handshake (SYN, SYN-ACK, ACK)",
      "validation": "assert 'syn' in code.lower() and 'ack' in code.lower()",
      "isHidden": false
    },
    {
      "id": "tc5",
      "description": "Knows well-known ports are 0-1023",
      "validation": "assert '1023' in code or ('0' in code and 'well-known' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc6",
      "description": "Identifies common ports (HTTP=80, HTTPS=443, SSH=22)",
      "validation": "assert '80' in code or '443' in code or '22' in code",
      "isHidden": false
    },
    {
      "id": "tc7",
      "description": "Knows UDP header is 8 bytes",
      "validation": "assert '8' in code and ('udp' in code.lower() or 'byte' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc8",
      "description": "Understands TCP uses sequence numbers for ordering",
      "validation": "assert 'sequence' in code.lower() and ('order' in code.lower() or 'tcp' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc9",
      "description": "Knows flow control uses window size",
      "validation": "assert 'window' in code.lower() and ('flow' in code.lower() or 'control' in code.lower())",
      "isHidden": false
    },
    {
      "id": "tc10",
      "description": "Understands socket = IP + port + protocol",
      "validation": "assert 'socket' in code.lower() and ('port' in code.lower() or 'ip' in code.lower())",
      "isHidden": false
    }
  ]
}
