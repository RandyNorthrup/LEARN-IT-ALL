{
  "id": "exercise-075-global-keyword",
  "lessonId": "lesson-061-global-keyword",
  "title": "The global Keyword - When and How",
  "description": "Master the global keyword for modifying module-level variables. Learn when to use and when to avoid.\n\nYour program should:\n1. Use global keyword to modify module variables\n2. Understand reading vs modifying globals\n3. Know when global is acceptable\n4. Learn better alternatives to globals\n5. Handle multiple global variables\n6. Avoid common global pitfalls\n\nImplement these functions:\n- `read_global_no_keyword()`: Read without global\n- `modify_with_global()`: Modify with global keyword\n- `modify_multiple_globals()`: Handle multiple globals\n- `global_vs_parameter(value)`: Compare approaches\n- `acceptable_global_usage()`: Config/settings pattern\n- `better_than_global()`: Return value alternative\n\nExample:\n```python\nmodify_with_global()\nprint(score)  # Modified\n```",
  "difficulty": "intermediate",
  "points": 15,
  "language": "python",
  "starterCode": "# Module-level variables\nscore = 0\nuser_count = 0\nerror_count = 0\nDEBUG_MODE = False\n\ndef read_global_no_keyword():\n    \"\"\"Read global without keyword.\n    \n    Returns:\n        Current score value.\n    \"\"\"\n    # TODO: Can read without 'global'\n    # return score\n    \n    pass\n\ndef modify_with_global():\n    \"\"\"Modify global with keyword.\n    \n    Returns:\n        New score value.\n    \"\"\"\n    # TODO: Must use 'global' to modify\n    # global score\n    # score += 10\n    # return score\n    \n    pass\n\ndef modify_multiple_globals(users, errors):\n    \"\"\"Modify multiple globals.\n    \n    Args:\n        users: Users to add.\n        errors: Errors to add.\n    \"\"\"\n    # TODO: Declare multiple globals\n    # global user_count, error_count\n    # user_count += users\n    # error_count += errors\n    \n    pass\n\ndef global_vs_parameter(value):\n    \"\"\"Compare global vs parameter approach.\n    \n    Args:\n        value: Value to process.\n    \n    Returns:\n        Processed value (parameter approach).\n    \"\"\"\n    # TODO: Parameter is better than global\n    # return value * 2  # Clear, testable\n    \n    pass\n\ndef acceptable_global_usage():\n    \"\"\"Show acceptable global usage (config).\n    \n    Returns:\n        Debug status string.\n    \"\"\"\n    # TODO: Reading config globals is OK\n    # if DEBUG_MODE:\n    #     return \"Debug mode ON\"\n    # return \"Debug mode OFF\"\n    \n    pass\n\ndef better_than_global(current_score, points):\n    \"\"\"Return value instead of modifying global.\n    \n    Args:\n        current_score: Current score.\n        points: Points to add.\n    \n    Returns:\n        New score.\n    \"\"\"\n    # TODO: Return new value (better than global)\n    # return current_score + points\n    \n    pass\n\n# Test functions\nprint(\"global Keyword:\")\nprint(\"=\"*60)\n\nprint(\"\\nReading Global (no keyword needed):\")\nprint(\"-\"*60)\nprint(f\"Initial score: {score}\")\nprint(f\"read_global_no_keyword(): {read_global_no_keyword()}\")\nprint(\"No 'global' keyword needed for reading\")\n\nprint(\"\\nModifying Global (requires keyword):\")\nprint(\"-\"*60)\nprint(f\"Score before: {score}\")\nprint(f\"modify_with_global(): {modify_with_global()}\")\nprint(f\"Score after: {score}\")\nprint(f\"modify_with_global(): {modify_with_global()}\")\nprint(f\"Score now: {score}\")\nprint(\"Must use 'global score' to modify\")\n\nprint(\"\\nMultiple Globals:\")\nprint(\"-\"*60)\nprint(f\"Before: users={user_count}, errors={error_count}\")\nmodify_multiple_globals(5, 2)\nprint(f\"After: users={user_count}, errors={error_count}\")\nmodify_multiple_globals(3, 1)\nprint(f\"Now: users={user_count}, errors={error_count}\")\nprint(\"Declared: global user_count, error_count\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Global vs Parameter:\")\nprint(\"=\"*60)\nprint(\"❌ BAD: Depends on global\")\nprint(\"  def process():\")\nprint(\"      global data\")\nprint(\"      return data * 2\")\nprint(\"\\n✅ GOOD: Uses parameter\")\nresult = global_vs_parameter(5)\nprint(f\"  global_vs_parameter(5): {result}\")\nresult = global_vs_parameter(10)\nprint(f\"  global_vs_parameter(10): {result}\")\nprint(\"Clear, testable, no hidden dependencies\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Acceptable Global Usage (Config):\")\nprint(\"=\"*60)\nprint(f\"DEBUG_MODE: {DEBUG_MODE}\")\nprint(f\"acceptable_global_usage(): {acceptable_global_usage()}\")\nprint(\"Reading config/constants is acceptable\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Better Alternative to Global:\")\nprint(\"=\"*60)\nmy_score = 0\nprint(f\"Initial: {my_score}\")\nmy_score = better_than_global(my_score, 10)\nprint(f\"After adding 10: {my_score}\")\nmy_score = better_than_global(my_score, 5)\nprint(f\"After adding 5: {my_score}\")\nprint(\"Return new value instead of modifying global\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"global Keyword Rules:\")\nprint(\"=\"*60)\nprint(\"✅ When to use global:\")\nprint(\"  - Reading: No keyword needed\")\nprint(\"  - Modifying: Must use 'global' keyword\")\nprint(\"  - Config/constants: Reading is OK\")\nprint(\"  - Simple scripts: Acceptable for counters\")\nprint(\"\\n❌ When to AVOID global:\")\nprint(\"  - Production code: Use classes or parameters\")\nprint(\"  - Testing: Hard to test global state\")\nprint(\"  - Concurrent code: Race conditions\")\nprint(\"  - Large projects: Hidden dependencies\")\nprint(\"\\n✅ Better alternatives:\")\nprint(\"  - Return values\")\nprint(\"  - Pass as parameters\")\nprint(\"  - Encapsulate in class\")\nprint(\"  - Use closures\")",
  "solution": "# Module-level variables\nscore = 0\nuser_count = 0\nerror_count = 0\nDEBUG_MODE = False\n\ndef read_global_no_keyword():\n    \"\"\"Read global without keyword.\"\"\"\n    return score\n\ndef modify_with_global():\n    \"\"\"Modify global with keyword.\"\"\"\n    global score\n    score += 10\n    return score\n\ndef modify_multiple_globals(users, errors):\n    \"\"\"Modify multiple globals.\"\"\"\n    global user_count, error_count\n    user_count += users\n    error_count += errors\n\ndef global_vs_parameter(value):\n    \"\"\"Compare global vs parameter approach.\"\"\"\n    return value * 2\n\ndef acceptable_global_usage():\n    \"\"\"Show acceptable global usage (config).\"\"\"\n    if DEBUG_MODE:\n        return \"Debug mode ON\"\n    return \"Debug mode OFF\"\n\ndef better_than_global(current_score, points):\n    \"\"\"Return value instead of modifying global.\"\"\"\n    return current_score + points\n\n# Test code as provided",
  "hints": [
    "Reading globals: No keyword needed, just use variable name",
    "Modifying globals: Must declare 'global variable_name' first",
    "Multiple globals: global var1, var2, var3",
    "Without global: Assignment creates NEW local variable",
    "Config constants: Reading globals for config is acceptable",
    "Better approach: Return values instead of modifying globals"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Read global without keyword",
      "input": "read_global_no_keyword() >= 0",
      "expectedOutput": "True",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Modify with global keyword",
      "input": "score_before = score; modify_with_global(); score > score_before",
      "expectedOutput": "True",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Parameter approach",
      "input": "global_vs_parameter(7)",
      "expectedOutput": "14",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Config global usage",
      "input": "'OFF' in acceptable_global_usage()",
      "expectedOutput": "True",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Return value approach",
      "input": "better_than_global(10, 5)",
      "expectedOutput": "15",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Multiple globals",
      "input": "uc = user_count; ec = error_count; modify_multiple_globals(1, 1); user_count > uc and error_count > ec",
      "expectedOutput": "True",
      "isHidden": true
    }
  ]
}