{
  "id": "exercise-021-best-practices",
  "lessonId": "lesson-013-best-practices",
  "title": "Code Quality Review",
  "description": "Refactor poorly written code to follow Python best practices.\n\nThe code works but has several issues:\n1. Poor variable names\n2. No comments\n3. No input validation\n4. Magic numbers\n5. Poor formatting\n\nRefactor it to be professional and maintainable.\n\nThe program calculates the cost of items with a discount.",
  "difficulty": "intermediate",
  "points": 20,
  "language": "python",
  "starterCode": "# Poorly written code - refactor this!\nx=float(input(\"Price: \"))\ny=int(input(\"Quantity: \"))\nz=0.1\na=x*y\nb=a*z\nc=a-b\nprint(c)",
  "solution": "# Shopping cart calculator with discount\n# Applies 10% discount to total purchase\n\n# Constants\nDISCOUNT_RATE = 0.10  # 10% discount\n\n# Get input from user\nitem_price = float(input(\"Enter item price: $\"))\nquantity = int(input(\"Enter quantity: \"))\n\n# Validate input\nif item_price < 0 or quantity < 0:\n    print(\"Error: Price and quantity must be positive\")\nelse:\n    # Calculate costs\n    subtotal = item_price * quantity\n    discount_amount = subtotal * DISCOUNT_RATE\n    final_total = subtotal - discount_amount\n    \n    # Display result\n    print(f\"Final total after discount: ${final_total:.2f}\")",
  "hints": [
    "Use descriptive variable names: item_price, quantity, discount_rate",
    "Add comments explaining what the code does",
    "Define DISCOUNT_RATE as a constant (UPPERCASE)",
    "Add input validation to check for negative numbers",
    "Use proper spacing around operators",
    "Format currency output to 2 decimal places"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Should calculate discount correctly",
      "input": "50\n2",
      "expectedOutput": "Final total after discount: $90.00",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Should handle single item",
      "input": "100\n1",
      "expectedOutput": "Final total after discount: $90.00",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Should work with decimal prices",
      "input": "19.99\n5",
      "expectedOutput": "Final total after discount: $89.96",
      "isHidden": true
    },
    {
      "id": "tc4",
      "description": "Code should use descriptive variable names",
      "input": "code_quality_check",
      "expectedOutput": "has_good_names",
      "isHidden": true
    }
  ]
}