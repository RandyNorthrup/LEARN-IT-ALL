{
  "id": "exercise-091-match-case-statements",
  "lessonId": "lesson-083-match-case-statements",
  "title": "Command Router",
  "description": "Create a command routing system using Python 3.10+ match-case statements for pattern matching. This is a modern alternative to if/elif chains.\n\nYour program should:\n1. Route commands based on patterns\n2. Use guards in patterns for additional conditions\n3. Match sequences and destructure values\n4. Handle multiple patterns with | (or) operator\n5. Provide default cases with _ wildcard\n\nImplement these functions:\n- `route_command(command)`: Route commands using match-case\n- `process_http_request(method, path)`: Handle HTTP requests with pattern matching\n- `parse_coordinates(point)`: Destructure coordinate tuples\n- `evaluate_expression(expr)`: Pattern match math expressions\n\nExample:\n```python\nprint(route_command('help'))  # 'Showing help documentation'\nprint(process_http_request('GET', '/users/123'))  # 'Fetching user 123'\nprint(parse_coordinates((3, 4)))  # 'Point at x=3, y=4'\n```",
  "difficulty": "intermediate",
  "points": 20,
  "language": "python",
  "starterCode": "def route_command(command):\n    \"\"\"Route commands using match-case statement.\"\"\"\n    # TODO: Use match-case to handle:\n    # 'help' | 'h': Return 'Showing help documentation'\n    # 'quit' | 'exit' | 'q': Return 'Exiting program'\n    # 'list': Return 'Listing items'\n    # 'clear': Return 'Clearing screen'\n    # _: Return 'Unknown command'\n    \n    pass\n\ndef process_http_request(method, path):\n    \"\"\"Process HTTP requests with pattern matching.\"\"\"\n    # TODO: Use match-case on tuple (method, path):\n    # ('GET', '/users'): 'Listing all users'\n    # ('GET', path) if path.startswith('/users/'): \n    #     Extract user_id and return f'Fetching user {user_id}'\n    # ('POST', '/users'): 'Creating new user'\n    # ('DELETE', path) if path.startswith('/users/'):\n    #     Extract user_id and return f'Deleting user {user_id}'\n    # _: 'Invalid request'\n    \n    pass\n\ndef parse_coordinates(point):\n    \"\"\"Parse coordinate tuples using pattern matching.\"\"\"\n    # TODO: Match different tuple patterns:\n    # (0, 0): 'Origin point'\n    # (x, 0): f'Point on x-axis at {x}'\n    # (0, y): f'Point on y-axis at {y}'\n    # (x, y): f'Point at x={x}, y={y}'\n    \n    pass\n\ndef evaluate_expression(expr):\n    \"\"\"Evaluate simple math expressions using pattern matching.\"\"\"\n    # TODO: expr is a tuple like ('add', 5, 3) or ('multiply', 4, 2)\n    # Match patterns:\n    # ('add', a, b): Return a + b\n    # ('subtract', a, b): Return a - b\n    # ('multiply', a, b): Return a * b\n    # ('divide', a, b) if b != 0: Return a / b\n    # ('divide', _, 0): Return 'Cannot divide by zero'\n    # _: Return 'Unknown operation'\n    \n    pass\n\ndef classify_response(status_code):\n    \"\"\"Classify HTTP status codes using match-case.\"\"\"\n    # TODO: Match status code ranges:\n    # 200: 'OK'\n    # 201: 'Created'\n    # 400: 'Bad Request'\n    # 404: 'Not Found'\n    # 500: 'Internal Server Error'\n    # code if 200 <= code < 300: 'Success'\n    # code if 400 <= code < 500: 'Client Error'\n    # code if 500 <= code < 600: 'Server Error'\n    # _: 'Unknown Status'\n    \n    pass\n\n# Test the functions\nprint(\"Command Routing:\")\nprint(\"=\"*60)\ncommands = ['help', 'quit', 'list', 'save', 'h', 'exit']\n\nfor cmd in commands:\n    result = route_command(cmd)\n    print(f\"'{cmd}' → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"HTTP Request Processing:\")\nprint(\"=\"*60)\nrequests = [\n    ('GET', '/users'),\n    ('GET', '/users/123'),\n    ('POST', '/users'),\n    ('DELETE', '/users/456'),\n    ('PUT', '/products'),\n]\n\nfor method, path in requests:\n    result = process_http_request(method, path)\n    print(f\"{method} {path} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Coordinate Parsing:\")\nprint(\"=\"*60)\npoints = [(0, 0), (5, 0), (0, 3), (4, 7)]\n\nfor point in points:\n    result = parse_coordinates(point)\n    print(f\"{point} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Expression Evaluation:\")\nprint(\"=\"*60)\nexpressions = [\n    ('add', 5, 3),\n    ('multiply', 4, 6),\n    ('divide', 10, 2),\n    ('divide', 5, 0),\n    ('power', 2, 3),\n]\n\nfor expr in expressions:\n    result = evaluate_expression(expr)\n    print(f\"{expr} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"HTTP Status Classification:\")\nprint(\"=\"*60)\nstatus_codes = [200, 201, 404, 500, 250, 450, 550]\n\nfor code in status_codes:\n    result = classify_response(code)\n    print(f\"Status {code}: {result}\")",
  "solution": "def route_command(command):\n    \"\"\"Route commands using match-case statement.\"\"\"\n    match command:\n        case 'help' | 'h':\n            return 'Showing help documentation'\n        case 'quit' | 'exit' | 'q':\n            return 'Exiting program'\n        case 'list':\n            return 'Listing items'\n        case 'clear':\n            return 'Clearing screen'\n        case _:\n            return 'Unknown command'\n\ndef process_http_request(method, path):\n    \"\"\"Process HTTP requests with pattern matching.\"\"\"\n    match (method, path):\n        case ('GET', '/users'):\n            return 'Listing all users'\n        case ('GET', path) if path.startswith('/users/'):\n            user_id = path.split('/')[-1]\n            return f'Fetching user {user_id}'\n        case ('POST', '/users'):\n            return 'Creating new user'\n        case ('DELETE', path) if path.startswith('/users/'):\n            user_id = path.split('/')[-1]\n            return f'Deleting user {user_id}'\n        case _:\n            return 'Invalid request'\n\ndef parse_coordinates(point):\n    \"\"\"Parse coordinate tuples using pattern matching.\"\"\"\n    match point:\n        case (0, 0):\n            return 'Origin point'\n        case (x, 0):\n            return f'Point on x-axis at {x}'\n        case (0, y):\n            return f'Point on y-axis at {y}'\n        case (x, y):\n            return f'Point at x={x}, y={y}'\n\ndef evaluate_expression(expr):\n    \"\"\"Evaluate simple math expressions using pattern matching.\"\"\"\n    match expr:\n        case ('add', a, b):\n            return a + b\n        case ('subtract', a, b):\n            return a - b\n        case ('multiply', a, b):\n            return a * b\n        case ('divide', a, b) if b != 0:\n            return a / b\n        case ('divide', _, 0):\n            return 'Cannot divide by zero'\n        case _:\n            return 'Unknown operation'\n\ndef classify_response(status_code):\n    \"\"\"Classify HTTP status codes using match-case.\"\"\"\n    match status_code:\n        case 200:\n            return 'OK'\n        case 201:\n            return 'Created'\n        case 400:\n            return 'Bad Request'\n        case 404:\n            return 'Not Found'\n        case 500:\n            return 'Internal Server Error'\n        case code if 200 <= code < 300:\n            return 'Success'\n        case code if 400 <= code < 500:\n            return 'Client Error'\n        case code if 500 <= code < 600:\n            return 'Server Error'\n        case _:\n            return 'Unknown Status'\n\n# Test the functions\nprint(\"Command Routing:\")\nprint(\"=\"*60)\ncommands = ['help', 'quit', 'list', 'save', 'h', 'exit']\n\nfor cmd in commands:\n    result = route_command(cmd)\n    print(f\"'{cmd}' → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"HTTP Request Processing:\")\nprint(\"=\"*60)\nrequests = [\n    ('GET', '/users'),\n    ('GET', '/users/123'),\n    ('POST', '/users'),\n    ('DELETE', '/users/456'),\n    ('PUT', '/products'),\n]\n\nfor method, path in requests:\n    result = process_http_request(method, path)\n    print(f\"{method} {path} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Coordinate Parsing:\")\nprint(\"=\"*60)\npoints = [(0, 0), (5, 0), (0, 3), (4, 7)]\n\nfor point in points:\n    result = parse_coordinates(point)\n    print(f\"{point} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Expression Evaluation:\")\nprint(\"=\"*60)\nexpressions = [\n    ('add', 5, 3),\n    ('multiply', 4, 6),\n    ('divide', 10, 2),\n    ('divide', 5, 0),\n    ('power', 2, 3),\n]\n\nfor expr in expressions:\n    result = evaluate_expression(expr)\n    print(f\"{expr} → {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"HTTP Status Classification:\")\nprint(\"=\"*60)\nstatus_codes = [200, 201, 404, 500, 250, 450, 550]\n\nfor code in status_codes:\n    result = classify_response(code)\n    print(f\"Status {code}: {result}\")",
  "hints": [
    "Match-case syntax: match value: case pattern: ...",
    "Use | (pipe) for multiple patterns: case 'help' | 'h':",
    "Guards add conditions: case value if condition:",
    "Destructure tuples: case (x, y): extracts values into x and y",
    "Underscore _ matches anything (wildcard)",
    "Match-case requires Python 3.10 or higher"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Route 'help' command",
      "input": "route_command('help')",
      "expectedOutput": "'Showing help documentation'",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Multiple patterns with |",
      "input": "route_command('q')",
      "expectedOutput": "'Exiting program'",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "HTTP GET request with path extraction",
      "input": "process_http_request('GET', '/users/123')",
      "expectedOutput": "'Fetching user 123'",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Coordinate origin point",
      "input": "parse_coordinates((0, 0))",
      "expectedOutput": "'Origin point'",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Expression evaluation with guard",
      "input": "evaluate_expression(('divide', 5, 0))",
      "expectedOutput": "'Cannot divide by zero'",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "HTTP status code with range guard",
      "input": "classify_response(250)",
      "expectedOutput": "'Success'",
      "isHidden": true
    }
  ]
}