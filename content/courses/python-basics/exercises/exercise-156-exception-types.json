{
  "id": "exercise-156-exception-types",
  "lessonId": "lesson-146-exception-types",
  "title": "Python Exception Types Deep Dive",
  "description": "Master built-in exception types, understand exception hierarchy, and handle different error categories effectively.",
  "difficulty": "intermediate",
  "points": 20,
  "starterCode": "# Exercise: Exception Types Deep Dive\n\ndef safe_divide(a, b):\n    \"\"\"Divide two numbers with proper exception handling.\"\"\"\n    pass\n\ndef safe_list_access(items, index):\n    \"\"\"Access list element with IndexError handling.\"\"\"\n    pass\n\ndef safe_dict_access(data, key):\n    \"\"\"Access dictionary value with KeyError handling.\"\"\"\n    pass\n\ndef safe_type_conversion(value):\n    \"\"\"Convert value to int with TypeError/ValueError handling.\"\"\"\n    pass\n\ndef safe_file_open(filename):\n    \"\"\"Open file with multiple exception handling.\"\"\"\n    pass\n\ndef categorize_exception(exception):\n    \"\"\"Categorize exception by type (arithmetic, lookup, type, value, file, import).\"\"\"\n    pass\n",
  "solution": "# Solution: Exception Types Deep Dive\n\ndef safe_divide(a, b):\n    \"\"\"\n    Divide two numbers with proper exception handling.\n    \n    Returns:\n        Result or None with error message\n    \"\"\"\n    try:\n        return a / b\n    except ZeroDivisionError:\n        return None, \"Division by zero\"\n    except TypeError:\n        return None, \"Invalid types for division\"\n\ndef safe_list_access(items, index):\n    \"\"\"\n    Access list element with IndexError handling.\n    \n    Returns:\n        Value or None with error message\n    \"\"\"\n    try:\n        return items[index], None\n    except IndexError:\n        return None, f\"Index {index} out of range\"\n    except TypeError:\n        return None, \"Invalid index type\"\n\ndef safe_dict_access(data, key):\n    \"\"\"\n    Access dictionary value with KeyError handling.\n    \n    Returns:\n        Value or None with error message\n    \"\"\"\n    try:\n        return data[key], None\n    except KeyError:\n        return None, f\"Key '{key}' not found\"\n    except TypeError:\n        return None, \"Invalid key type\"\n\ndef safe_type_conversion(value):\n    \"\"\"\n    Convert value to int with TypeError/ValueError handling.\n    \n    Returns:\n        Integer or None with error message\n    \"\"\"\n    try:\n        return int(value), None\n    except ValueError:\n        return None, f\"Cannot convert '{value}' to int\"\n    except TypeError:\n        return None, \"Value must be convertible to int\"\n\ndef safe_file_open(filename):\n    \"\"\"\n    Open file with multiple exception handling.\n    \n    Returns:\n        File content or None with error message\n    \"\"\"\n    try:\n        with open(filename, 'r') as f:\n            return f.read(), None\n    except FileNotFoundError:\n        return None, f\"File '{filename}' not found\"\n    except PermissionError:\n        return None, f\"Permission denied: '{filename}'\"\n    except IsADirectoryError:\n        return None, f\"'{filename}' is a directory\"\n    except OSError as e:\n        return None, f\"OS error: {e}\"\n\ndef categorize_exception(exception):\n    \"\"\"\n    Categorize exception by type.\n    \n    Returns:\n        Category string\n    \"\"\"\n    if isinstance(exception, (ZeroDivisionError, OverflowError, FloatingPointError)):\n        return \"arithmetic\"\n    elif isinstance(exception, (IndexError, KeyError)):\n        return \"lookup\"\n    elif isinstance(exception, TypeError):\n        return \"type\"\n    elif isinstance(exception, ValueError):\n        return \"value\"\n    elif isinstance(exception, (FileNotFoundError, PermissionError, IsADirectoryError)):\n        return \"file\"\n    elif isinstance(exception, (ImportError, ModuleNotFoundError)):\n        return \"import\"\n    else:\n        return \"other\"\n",
  "hints": [
    "Use try-except blocks to catch specific exceptions like ZeroDivisionError, IndexError, KeyError",
    "Return tuples with (result, error_message) pattern for safe functions",
    "Handle multiple exception types with separate except clauses",
    "Use isinstance() to check exception types in categorize_exception",
    "File operations can raise FileNotFoundError, PermissionError, IsADirectoryError",
    "Group related exceptions (arithmetic: ZeroDivisionError/OverflowError, lookup: IndexError/KeyError)"
  ],
  "testCases": [
    {
      "input": "safe_divide(10, 2)",
      "description": "Test safe_divide with valid inputs",
      "id": "test1",
      "expectedOutput": "5.0",
      "isHidden": false
    },
    {
      "input": "safe_divide(10, 0)",
      "description": "Test safe_divide with zero",
      "id": "test2",
      "expectedOutput": "(None, 'Division by zero')",
      "isHidden": false
    },
    {
      "input": "safe_list_access([1, 2, 3], 1)",
      "description": "Test safe_list_access with valid index",
      "id": "test3",
      "expectedOutput": "(2, None)",
      "isHidden": false
    },
    {
      "input": "safe_list_access([1, 2, 3], 10)",
      "description": "Test safe_list_access with invalid index",
      "id": "test4",
      "expectedOutput": "(None, 'Index 10 out of range')",
      "isHidden": true
    },
    {
      "input": "safe_dict_access({'name': 'Alice'}, 'name')",
      "description": "Test safe_dict_access with valid key",
      "id": "test5",
      "expectedOutput": "('Alice', None)",
      "isHidden": true
    },
    {
      "input": "categorize_exception(ZeroDivisionError())",
      "description": "Test categorize_exception for arithmetic",
      "id": "test6",
      "expectedOutput": "'arithmetic'",
      "isHidden": true
    }
  ],
  "language": "python"
}