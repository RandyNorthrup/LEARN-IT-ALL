{
  "id": "exercise-133-dict-methods",
  "lessonId": "lesson-123-dict-methods",
  "title": "Dictionary Methods Deep Dive",
  "description": "Master essential dictionary methods: get(), setdefault(), update(), pop(), popitem(), clear(), keys(), values(), items(), and copy(). Understand when to use each method.",
  "difficulty": "intermediate",
  "points": 20,
  "starterCode": "# Function 1: Use get() with default value\ndef get_with_default(data, key, default):\n    \"\"\"Get value from dictionary with custom default.\n    \n    Args:\n        data (dict): Dictionary to query\n        key (str): Key to look up\n        default (any): Default value if key doesn't exist\n    \n    Returns:\n        any: Value or default\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 2: Initialize missing keys with setdefault\ndef ensure_list_key(data, key):\n    \"\"\"Ensure key exists with empty list value, return the list.\n    \n    Args:\n        data (dict): Dictionary to modify\n        key (str): Key to ensure exists\n    \n    Returns:\n        list: List at the key (existing or newly created)\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 3: Merge dictionaries with update\ndef merge_configs(base, overrides):\n    \"\"\"Merge overrides into base configuration.\n    \n    Args:\n        base (dict): Base configuration\n        overrides (dict): Override values\n    \n    Returns:\n        dict: Merged configuration (modify base in place)\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 4: Remove and return value with pop\ndef remove_key(data, key):\n    \"\"\"Remove key and return its value, return None if missing.\n    \n    Args:\n        data (dict): Dictionary to modify\n        key (str): Key to remove\n    \n    Returns:\n        any: Removed value or None\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 5: Process dictionary until empty\ndef drain_dict(data):\n    \"\"\"Remove and return all items as list of (key, value) tuples.\n    \n    Args:\n        data (dict): Dictionary to drain\n    \n    Returns:\n        list: List of (key, value) tuples in removal order\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 6: Create shallow copy and modify\ndef copy_and_add(data, new_key, new_value):\n    \"\"\"Create a copy of dict and add new key-value pair.\n    \n    Args:\n        data (dict): Original dictionary\n        new_key (str): Key to add\n        new_value (any): Value to add\n    \n    Returns:\n        dict: New dictionary with added pair (don't modify original)\n    \"\"\"\n    # Your code here\n    pass",
  "solution": "# Function 1: Use get() with default value\ndef get_with_default(data, key, default):\n    \"\"\"Get value from dictionary with custom default.\n    \n    Args:\n        data (dict): Dictionary to query\n        key (str): Key to look up\n        default (any): Default value if key doesn't exist\n    \n    Returns:\n        any: Value or default\n    \"\"\"\n    return data.get(key, default)\n\n# Function 2: Initialize missing keys with setdefault\ndef ensure_list_key(data, key):\n    \"\"\"Ensure key exists with empty list value, return the list.\n    \n    Args:\n        data (dict): Dictionary to modify\n        key (str): Key to ensure exists\n    \n    Returns:\n        list: List at the key (existing or newly created)\n    \"\"\"\n    return data.setdefault(key, [])\n\n# Function 3: Merge dictionaries with update\ndef merge_configs(base, overrides):\n    \"\"\"Merge overrides into base configuration.\n    \n    Args:\n        base (dict): Base configuration\n        overrides (dict): Override values\n    \n    Returns:\n        dict: Merged configuration (modify base in place)\n    \"\"\"\n    base.update(overrides)\n    return base\n\n# Function 4: Remove and return value with pop\ndef remove_key(data, key):\n    \"\"\"Remove key and return its value, return None if missing.\n    \n    Args:\n        data (dict): Dictionary to modify\n        key (str): Key to remove\n    \n    Returns:\n        any: Removed value or None\n    \"\"\"\n    return data.pop(key, None)\n\n# Function 5: Process dictionary until empty\ndef drain_dict(data):\n    \"\"\"Remove and return all items as list of (key, value) tuples.\n    \n    Args:\n        data (dict): Dictionary to drain\n    \n    Returns:\n        list: List of (key, value) tuples in removal order\n    \"\"\"\n    items = []\n    while data:\n        items.append(data.popitem())\n    return items\n\n# Function 6: Create shallow copy and modify\ndef copy_and_add(data, new_key, new_value):\n    \"\"\"Create a copy of dict and add new key-value pair.\n    \n    Args:\n        data (dict): Original dictionary\n        new_key (str): Key to add\n        new_value (any): Value to add\n    \n    Returns:\n        dict: New dictionary with added pair (don't modify original)\n    \"\"\"\n    result = data.copy()\n    result[new_key] = new_value\n    return result",
  "hints": [
    "The .get(key, default) method returns default if key doesn't exist, never raises KeyError",
    "setdefault(key, default) returns existing value OR sets and returns default if key is missing",
    ".update(other) merges another dictionary, with later values overriding earlier ones",
    ".pop(key, default) removes key and returns its value, or returns default if key doesn't exist",
    ".popitem() removes and returns the last (key, value) pair; use in a while loop to drain",
    ".copy() creates a shallow copy - modifications to the copy don't affect the original"
  ],
  "testCases": [
    {
      "id": "test1",
      "input": "get_with_default({'name': 'Alice'}, 'name', 'Unknown')",
      "expectedOutput": "'Alice'",
      "isHidden": false,
      "description": "Get with default - key exists"
    },
    {
      "id": "test2",
      "input": "get_with_default({}, 'name', 'Unknown')",
      "expectedOutput": "'Unknown'",
      "isHidden": false,
      "description": "Get with default - key missing"
    },
    {
      "id": "test3",
      "input": "merge_configs({'a': 1, 'b': 2}, {'b': 20, 'c': 3})",
      "expectedOutput": "{'a': 1, 'b': 20, 'c': 3}",
      "isHidden": false,
      "description": "Merge configurations"
    },
    {
      "id": "test4",
      "input": "remove_key({'a': 1, 'b': 2}, 'a')",
      "expectedOutput": "1",
      "isHidden": true,
      "description": "Remove existing key"
    },
    {
      "id": "test5",
      "input": "remove_key({'a': 1}, 'z')",
      "expectedOutput": "None",
      "isHidden": true,
      "description": "Remove missing key"
    },
    {
      "id": "test6",
      "input": "original = {'a': 1}; result = copy_and_add(original, 'b', 2); original",
      "expectedOutput": "{'a': 1}",
      "isHidden": true,
      "description": "Copy and add - original unchanged"
    }
  ],
  "language": "python"
}