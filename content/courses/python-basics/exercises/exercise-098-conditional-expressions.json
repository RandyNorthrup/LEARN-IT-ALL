{
  "id": "exercise-098-conditional-expressions",
  "lessonId": "lesson-090-conditional-expressions",
  "title": "Inline Expression Toolkit",
  "description": "Master Python's ternary operator (conditional expressions) for writing concise conditional logic in a single line.\n\nYour program should:\n1. Use ternary operator for simple assignments\n2. Apply inline conditionals in list comprehensions\n3. Implement default value patterns\n4. Use ternary for function returns\n5. Know when NOT to use ternary (readability matters!)\n\nImplement these functions:\n- `get_status(age)`: Return 'Adult' or 'Minor' using ternary\n- `safe_divide(a, b)`: Division with ternary None check\n- `clamp_value(val, min_val, max_val)`: Clamp using chained ternary\n- `transform_list(numbers)`: Use ternary in list comprehension\n- `get_greeting(name, time_of_day)`: Complex ternary message\n\nExample:\n```python\nstatus = get_status(20)  # 'Adult'\nresult = safe_divide(10, 0)  # None\n```",
  "difficulty": "intermediate",
  "points": 15,
  "language": "python",
  "starterCode": "def get_status(age):\n    \"\"\"Return Adult or Minor using ternary operator.\"\"\"\n    # TODO: Use ternary: value_if_true if condition else value_if_false\n    # Return 'Adult' if age >= 18, else 'Minor'\n    \n    pass\n\ndef safe_divide(a, b):\n    \"\"\"Divide a by b, return None if b is 0.\"\"\"\n    # TODO: Use ternary to check b != 0\n    # If b != 0: return a / b\n    # Otherwise: return None\n    \n    pass\n\ndef clamp_value(val, min_val, max_val):\n    \"\"\"Clamp value to range using chained ternary.\"\"\"\n    # TODO: Use chained ternary:\n    # If val < min_val: return min_val\n    # Elif val > max_val: return max_val\n    # Else: return val\n    # Format: min_val if val < min_val else max_val if val > max_val else val\n    \n    pass\n\ndef transform_list(numbers):\n    \"\"\"Transform list: double evens, keep odds as-is.\"\"\"\n    # TODO: Use list comprehension with ternary:\n    # [n * 2 if n % 2 == 0 else n for n in numbers]\n    \n    pass\n\ndef get_greeting(name, time_of_day):\n    \"\"\"Get personalized greeting with ternary.\"\"\"\n    # TODO: Use ternary for:\n    # 1. Get display_name: name if name else 'Guest'\n    # 2. Get greeting based on time_of_day:\n    #    'morning' -> 'Good morning'\n    #    'afternoon' -> 'Good afternoon'\n    #    'evening' -> 'Good evening'\n    #    other -> 'Hello'\n    # Return: f\"{greeting}, {display_name}!\"\n    \n    pass\n\ndef get_discount_label(price, discount_percent):\n    \"\"\"Get discount label using ternary.\"\"\"\n    # TODO: Calculate discounted_price\n    # Use ternary to return:\n    # - \"No discount\" if discount_percent == 0\n    # - f\"Save ${savings}\" if discount > 0\n    # Where savings = price * (discount_percent / 100)\n    \n    pass\n\ndef format_currency(amount):\n    \"\"\"Format amount as currency with ternary.\"\"\"\n    # TODO: Use ternary for:\n    # - Positive amounts: f\"${amount:.2f}\"\n    # - Negative amounts: f\"-${abs(amount):.2f}\"\n    # - Zero: \"$0.00\"\n    \n    pass\n\n# Test the functions\nprint(\"Simple Ternary - Age Status:\")\nprint(\"=\"*60)\nages = [10, 18, 25, 65]\nfor age in ages:\n    status = get_status(age)\n    print(f\"Age {age}: {status}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Safe Division with Ternary:\")\nprint(\"=\"*60)\ndivision_tests = [\n    (10, 2),\n    (10, 0),\n    (15, 3),\n    (7, 0),\n]\n\nfor a, b in division_tests:\n    result = safe_divide(a, b)\n    print(f\"{a} / {b} = {result}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Chained Ternary - Clamp Values:\")\nprint(\"=\"*60)\nclamp_tests = [\n    (-5, 0, 10),\n    (5, 0, 10),\n    (15, 0, 10),\n    (0, 0, 10),\n    (10, 0, 10),\n]\n\nfor val, min_v, max_v in clamp_tests:\n    clamped = clamp_value(val, min_v, max_v)\n    print(f\"Clamp {val} to [{min_v}, {max_v}] = {clamped}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Ternary in List Comprehension:\")\nprint(\"=\"*60)\nnumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\ntransformed = transform_list(numbers)\nprint(f\"Original: {numbers}\")\nprint(f\"Transformed (double evens): {transformed}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Complex Ternary - Greetings:\")\nprint(\"=\"*60)\ngreeting_tests = [\n    ('Alice', 'morning'),\n    ('Bob', 'afternoon'),\n    (None, 'evening'),\n    ('Charlie', 'night'),\n]\n\nfor name, time in greeting_tests:\n    greeting = get_greeting(name, time)\n    print(f\"Name: {name}, Time: {time}\")\n    print(f\"Greeting: {greeting}\\n\")\n\nprint(\"=\"*60)\nprint(\"Discount Labels:\")\nprint(\"=\"*60)\ndiscount_tests = [\n    (100, 0),\n    (100, 10),\n    (50, 20),\n]\n\nfor price, discount in discount_tests:\n    label = get_discount_label(price, discount)\n    print(f\"Price: ${price}, Discount: {discount}% → {label}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Currency Formatting:\")\nprint(\"=\"*60)\namounts = [100, -50, 0, 25.5, -10.99]\nfor amount in amounts:\n    formatted = format_currency(amount)\n    print(f\"{amount:7.2f} → {formatted}\")",
  "solution": "def get_status(age):\n    \"\"\"Return Adult or Minor using ternary operator.\"\"\"\n    return 'Adult' if age >= 18 else 'Minor'\n\ndef safe_divide(a, b):\n    \"\"\"Divide a by b, return None if b is 0.\"\"\"\n    return a / b if b != 0 else None\n\ndef clamp_value(val, min_val, max_val):\n    \"\"\"Clamp value to range using chained ternary.\"\"\"\n    return min_val if val < min_val else max_val if val > max_val else val\n\ndef transform_list(numbers):\n    \"\"\"Transform list: double evens, keep odds as-is.\"\"\"\n    return [n * 2 if n % 2 == 0 else n for n in numbers]\n\ndef get_greeting(name, time_of_day):\n    \"\"\"Get personalized greeting with ternary.\"\"\"\n    display_name = name if name else 'Guest'\n    \n    greeting = (\n        'Good morning' if time_of_day == 'morning' else\n        'Good afternoon' if time_of_day == 'afternoon' else\n        'Good evening' if time_of_day == 'evening' else\n        'Hello'\n    )\n    \n    return f\"{greeting}, {display_name}!\"\n\ndef get_discount_label(price, discount_percent):\n    \"\"\"Get discount label using ternary.\"\"\"\n    savings = price * (discount_percent / 100)\n    return \"No discount\" if discount_percent == 0 else f\"Save ${savings:.2f}\"\n\ndef format_currency(amount):\n    \"\"\"Format amount as currency with ternary.\"\"\"\n    return (\n        \"$0.00\" if amount == 0 else\n        f\"${amount:.2f}\" if amount > 0 else\n        f\"-${abs(amount):.2f}\"\n    )\n\n# Test code as provided",
  "hints": [
    "Ternary syntax: value_if_true if condition else value_if_false",
    "Chained ternary: val1 if cond1 else val2 if cond2 else val3",
    "In list comprehensions: [expr_if_true if condition else expr_if_false for item in items]",
    "For default values, 'or' operator is often simpler than ternary",
    "Use parentheses for multi-line chained ternary for readability",
    "If ternary becomes hard to read, use regular if-else instead"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Age 20 returns Adult",
      "input": "get_status(20)",
      "expectedOutput": "'Adult'",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Age 15 returns Minor",
      "input": "get_status(15)",
      "expectedOutput": "'Minor'",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Division by zero returns None",
      "input": "safe_divide(10, 0)",
      "expectedOutput": "None",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Clamp works correctly",
      "input": "clamp_value(15, 0, 10)",
      "expectedOutput": "10",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Transform doubles evens",
      "input": "transform_list([1, 2, 3, 4])",
      "expectedOutput": "[1, 4, 3, 8]",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Greeting defaults to Guest",
      "input": "'Guest' in get_greeting(None, 'morning')",
      "expectedOutput": "True",
      "isHidden": true
    }
  ]
}