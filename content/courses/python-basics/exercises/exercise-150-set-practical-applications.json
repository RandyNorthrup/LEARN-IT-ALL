{
  "id": "exercise-150-set-practical-applications",
  "lessonId": "lesson-140-set-practical-applications",
  "title": "Set Practical Applications",
  "description": "Apply sets to real-world scenarios: deduplication, validation, access control, tag management, and data analysis.",
  "difficulty": "intermediate",
  "points": 20,
  "starterCode": "# Function 1: Find duplicate items\ndef find_duplicates(items):\n    \"\"\"Find items that appear more than once.\n    \n    Args:\n        items (list): List with potential duplicates\n    \n    Returns:\n        set: Set of duplicate items\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 2: Validate against whitelist\ndef validate_items(items, whitelist):\n    \"\"\"Check if all items are in whitelist.\n    \n    Args:\n        items (list): Items to validate\n        whitelist (set): Set of valid items\n    \n    Returns:\n        bool: True if all valid\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 3: Find invalid items\ndef get_invalid_items(items, valid_set):\n    \"\"\"Get items not in valid set.\n    \n    Args:\n        items (list): Items to check\n        valid_set (set): Valid items\n    \n    Returns:\n        set: Invalid items\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 4: Tag intersection\ndef common_tags(tags1, tags2):\n    \"\"\"Find tags common to both sets.\n    \n    Args:\n        tags1 (set): First tag set\n        tags2 (set): Second tag set\n    \n    Returns:\n        set: Common tags\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 5: Check user permissions\ndef has_permission(user_perms, required_perms):\n    \"\"\"Check if user has all required permissions.\n    \n    Args:\n        user_perms (set): User's permissions\n        required_perms (set): Required permissions\n    \n    Returns:\n        bool: True if user has all required\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 6: Track unique visitors\ndef count_unique_visitors(visitor_logs):\n    \"\"\"Count unique visitors from logs.\n    \n    Args:\n        visitor_logs (list): List of visitor IDs (with duplicates)\n    \n    Returns:\n        int: Number of unique visitors\n    \"\"\"\n    # Your code here\n    pass",
  "solution": "# Function 1: Find duplicate items\ndef find_duplicates(items):\n    \"\"\"Find items that appear more than once.\n    \n    Args:\n        items (list): List with potential duplicates\n    \n    Returns:\n        set: Set of duplicate items\n    \"\"\"\n    seen = set()\n    duplicates = set()\n    for item in items:\n        if item in seen:\n            duplicates.add(item)\n        else:\n            seen.add(item)\n    return duplicates\n\n# Function 2: Validate against whitelist\ndef validate_items(items, whitelist):\n    \"\"\"Check if all items are in whitelist.\n    \n    Args:\n        items (list): Items to validate\n        whitelist (set): Set of valid items\n    \n    Returns:\n        bool: True if all valid\n    \"\"\"\n    return set(items) <= whitelist\n\n# Function 3: Find invalid items\ndef get_invalid_items(items, valid_set):\n    \"\"\"Get items not in valid set.\n    \n    Args:\n        items (list): Items to check\n        valid_set (set): Valid items\n    \n    Returns:\n        set: Invalid items\n    \"\"\"\n    return set(items) - valid_set\n\n# Function 4: Tag intersection\ndef common_tags(tags1, tags2):\n    \"\"\"Find tags common to both sets.\n    \n    Args:\n        tags1 (set): First tag set\n        tags2 (set): Second tag set\n    \n    Returns:\n        set: Common tags\n    \"\"\"\n    return tags1 & tags2\n\n# Function 5: Check user permissions\ndef has_permission(user_perms, required_perms):\n    \"\"\"Check if user has all required permissions.\n    \n    Args:\n        user_perms (set): User's permissions\n        required_perms (set): Required permissions\n    \n    Returns:\n        bool: True if user has all required\n    \"\"\"\n    return required_perms <= user_perms\n\n# Function 6: Track unique visitors\ndef count_unique_visitors(visitor_logs):\n    \"\"\"Count unique visitors from logs.\n    \n    Args:\n        visitor_logs (list): List of visitor IDs (with duplicates)\n    \n    Returns:\n        int: Number of unique visitors\n    \"\"\"\n    return len(set(visitor_logs))",
  "hints": [
    "Track seen items in set, add to duplicates if already seen",
    "Use subset check: set(items) <= whitelist returns True if all valid",
    "Use set difference: set(items) - valid_set gives invalid items",
    "Use & operator for intersection: tags1 & tags2",
    "Use subset check: required_perms <= user_perms (all required in user perms)",
    "Convert to set and get length: len(set(visitor_logs))"
  ],
  "testCases": [
    {
      "id": "test1",
      "input": "find_duplicates([1, 2, 2, 3, 3, 3, 4])",
      "expectedOutput": "{2, 3}",
      "isHidden": false,
      "description": "Find duplicates"
    },
    {
      "id": "test2",
      "input": "validate_items([1, 2, 3], {1, 2, 3, 4, 5})",
      "expectedOutput": "True",
      "isHidden": false,
      "description": "Validate items - all valid"
    },
    {
      "id": "test3",
      "input": "get_invalid_items([1, 2, 3, 4], {2, 4, 6})",
      "expectedOutput": "{1, 3}",
      "isHidden": false,
      "description": "Get invalid items"
    },
    {
      "id": "test4",
      "input": "common_tags({'python', 'java', 'javascript'}, {'python', 'javascript', 'c++'})",
      "expectedOutput": "{'python', 'javascript'}",
      "isHidden": true,
      "description": "Common tags"
    },
    {
      "id": "test5",
      "input": "has_permission({'read', 'write', 'execute'}, {'read', 'write'})",
      "expectedOutput": "True",
      "isHidden": true,
      "description": "Has permission"
    },
    {
      "id": "test6",
      "input": "count_unique_visitors(['user1', 'user2', 'user1', 'user3', 'user2'])",
      "expectedOutput": "3",
      "isHidden": true,
      "description": "Count unique visitors"
    }
  ],
  "language": "python"
}