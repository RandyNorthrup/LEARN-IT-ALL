{
  "id": "exercise-104-list-comprehensions",
  "lessonId": "lesson-096-list-comprehensions",
  "title": "Data Transformation Pipeline",
  "description": "Master list comprehensions for concise data transformations. Learn to replace loops with elegant one-line expressions.\n\nYour program should:\n1. Transform lists with comprehensions\n2. Filter data with conditional comprehensions\n3. Apply conditional expressions in comprehensions\n4. Use nested comprehensions for 2D data\n5. Know when comprehensions vs loops are appropriate\n\nImplement these functions:\n- `squares(numbers)`: Return list of squares\n- `evens_only(numbers)`: Filter even numbers\n- `absolute_values(numbers)`: Make all values positive\n- `lengths(words)`: Get length of each word\n- `flatten_matrix(matrix)`: Flatten 2D list to 1D\n- `word_initials(words)`: Get first letter of each word\n\nExample:\n```python\nsquares([1, 2, 3])  # [1, 4, 9]\nevens_only([1, 2, 3, 4])  # [2, 4]\n```",
  "difficulty": "intermediate",
  "points": 15,
  "language": "python",
  "starterCode": "def squares(numbers):\n    \"\"\"Return list of squared values.\"\"\"\n    # TODO: Use list comprehension\n    # Return [n ** 2 for n in numbers]\n    \n    pass\n\ndef evens_only(numbers):\n    \"\"\"Filter and return only even numbers.\"\"\"\n    # TODO: Comprehension with filter\n    # Return [n for n in numbers if n % 2 == 0]\n    \n    pass\n\ndef absolute_values(numbers):\n    \"\"\"Return absolute values (all positive).\"\"\"\n    # TODO: Use abs() in comprehension\n    # Return [abs(n) for n in numbers]\n    \n    pass\n\ndef lengths(words):\n    \"\"\"Return list of word lengths.\"\"\"\n    # TODO: Get len() of each word\n    # Return [len(word) for word in words]\n    \n    pass\n\ndef flatten_matrix(matrix):\n    \"\"\"Flatten 2D list into 1D list.\"\"\"\n    # TODO: Nested comprehension\n    # Return [element for row in matrix for element in row]\n    \n    pass\n\ndef word_initials(words):\n    \"\"\"Get first letter of each word, uppercase.\"\"\"\n    # TODO: Extract first character, uppercase\n    # Return [word[0].upper() for word in words if word]\n    \n    pass\n\n# Test the functions\nprint(\"Squares:\")\nprint(\"=\"*60)\ntest_numbers = [\n    [1, 2, 3, 4, 5],\n    [10, 20, 30],\n    [0, -1, -2, -3],\n]\n\nfor numbers in test_numbers:\n    result = squares(numbers)\n    print(f\"Numbers: {numbers}\")\n    print(f\"Squares: {result}\\n\")\n\nprint(\"=\"*60)\nprint(\"Filter Evens:\")\nprint(\"=\"*60)\ntest_numbers = [\n    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    [1, 3, 5, 7, 9],\n    [2, 4, 6, 8],\n    [],\n]\n\nfor numbers in test_numbers:\n    evens = evens_only(numbers)\n    print(f\"Numbers: {numbers}\")\n    print(f\"Evens: {evens}\\n\")\n\nprint(\"=\"*60)\nprint(\"Absolute Values:\")\nprint(\"=\"*60)\ntest_numbers = [\n    [-5, -2, 0, 3, 8],\n    [1, -2, 3, -4, 5],\n    [-10, -20, -30],\n]\n\nfor numbers in test_numbers:\n    result = absolute_values(numbers)\n    print(f\"Original: {numbers}\")\n    print(f\"Absolute: {result}\\n\")\n\nprint(\"=\"*60)\nprint(\"Word Lengths:\")\nprint(\"=\"*60)\nword_lists = [\n    ['hello', 'world', 'python'],\n    ['a', 'ab', 'abc', 'abcd'],\n    ['programming', 'is', 'fun'],\n]\n\nfor words in word_lists:\n    lens = lengths(words)\n    print(f\"Words: {words}\")\n    print(f\"Lengths: {lens}\\n\")\n\nprint(\"=\"*60)\nprint(\"Flatten Matrix:\")\nprint(\"=\"*60)\nmatrices = [\n    [[1, 2, 3], [4, 5, 6], [7, 8, 9]],\n    [[10, 20], [30, 40], [50, 60]],\n    [[1]],\n]\n\nfor matrix in matrices:\n    flat = flatten_matrix(matrix)\n    print(f\"Matrix:\")\n    for row in matrix:\n        print(f\"  {row}\")\n    print(f\"Flattened: {flat}\\n\")\n\nprint(\"=\"*60)\nprint(\"Word Initials:\")\nprint(\"=\"*60)\nword_lists = [\n    ['Python', 'Is', 'Awesome'],\n    ['hello', 'world'],\n    ['Data', 'Science', 'Rocks'],\n]\n\nfor words in word_lists:\n    initials = word_initials(words)\n    print(f\"Words: {words}\")\n    print(f\"Initials: {initials}\")\n    print(f\"Acronym: {''.join(initials)}\\n\")\n\n# Practical examples\nprint(\"=\"*60)\nprint(\"Practical: Temperature Conversion\")\nprint(\"=\"*60)\ncelsius = [0, 10, 20, 30, 40, 100]\nfahrenheit = [(c * 9/5) + 32 for c in celsius]\n\nfor c, f in zip(celsius, fahrenheit):\n    print(f\"{c}°C = {f}°F\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Practical: String Processing\")\nprint(\"=\"*60)\nsentence = \"The quick brown fox\"\nword_lengths = [len(word) for word in sentence.split()]\nprint(f\"Sentence: {sentence}\")\nprint(f\"Word lengths: {word_lengths}\")\nprint(f\"Average length: {sum(word_lengths) / len(word_lengths):.1f}\")",
  "solution": "def squares(numbers):\n    \"\"\"Return list of squared values.\"\"\"\n    return [n ** 2 for n in numbers]\n\ndef evens_only(numbers):\n    \"\"\"Filter and return only even numbers.\"\"\"\n    return [n for n in numbers if n % 2 == 0]\n\ndef absolute_values(numbers):\n    \"\"\"Return absolute values (all positive).\"\"\"\n    return [abs(n) for n in numbers]\n\ndef lengths(words):\n    \"\"\"Return list of word lengths.\"\"\"\n    return [len(word) for word in words]\n\ndef flatten_matrix(matrix):\n    \"\"\"Flatten 2D list into 1D list.\"\"\"\n    return [element for row in matrix for element in row]\n\ndef word_initials(words):\n    \"\"\"Get first letter of each word, uppercase.\"\"\"\n    return [word[0].upper() for word in words if word]\n\n# Test code as provided",
  "hints": [
    "Basic comprehension: [expression for item in iterable]",
    "With filter: [expression for item in iterable if condition]",
    "Nested comprehension: [item for sublist in list for item in sublist]",
    "Apply function: [func(item) for item in iterable]",
    "Conditional expression: [a if condition else b for item in iterable]",
    "Comprehensions are faster than loops for simple transformations"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Squares of numbers",
      "input": "squares([1, 2, 3, 4])",
      "expectedOutput": "[1, 4, 9, 16]",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Filter even numbers",
      "input": "evens_only([1, 2, 3, 4, 5, 6])",
      "expectedOutput": "[2, 4, 6]",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Absolute values",
      "input": "absolute_values([-1, -2, 3, -4])",
      "expectedOutput": "[1, 2, 3, 4]",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Word lengths",
      "input": "lengths(['hi', 'hello', 'hey'])",
      "expectedOutput": "[2, 5, 3]",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Flatten 2D list",
      "input": "flatten_matrix([[1, 2], [3, 4]])",
      "expectedOutput": "[1, 2, 3, 4]",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Word initials uppercase",
      "input": "word_initials(['python', 'is', 'awesome'])",
      "expectedOutput": "['P', 'I', 'A']",
      "isHidden": true
    }
  ]
}