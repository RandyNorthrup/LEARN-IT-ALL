{
  "id": "exercise-034-global-vs-local-scope",
  "lessonId": "lesson-022-global-vs-local-scope",
  "title": "Global and Local Variable Scope",
  "description": "Master the distinction between global and local scope. Learn when and how to use the global keyword.\n\nYour program should:\n1. Understand local variable scope (exists only in function)\n2. Read global variables without global keyword\n3. Modify global variables with global keyword\n4. Handle variable shadowing (local hides global)\n5. Manage multiple functions accessing globals\n6. Know when to use/avoid global variables\n\nImplement these functions:\n- `get_config_value()`: Read global constant\n- `increment_counter()`: Modify global counter with global keyword\n- `reset_counter()`: Reset global counter to zero\n- `calculate_with_global()`: Use global in calculation\n- `shadow_demo()`: Demonstrate local variable shadowing\n- `validate_limit(value)`: Read global limit for validation\n\nExample:\n```python\nincrement_counter()\nincrement_counter()\nprint(counter)  # 2\n```",
  "difficulty": "intermediate",
  "points": 20,
  "language": "python",
  "starterCode": "# Global variables (module-level)\nMAX_USERS = 100  # Global constant\ncounter = 0      # Global variable\napp_name = \"MyApp\"  # Global variable\n\ndef get_config_value():\n    \"\"\"Read global constant without global keyword.\n    \n    Returns:\n        MAX_USERS value.\n    \"\"\"\n    # TODO: Return MAX_USERS (no global keyword needed for reading)\n    # return MAX_USERS\n    \n    pass\n\ndef increment_counter():\n    \"\"\"Increment global counter using global keyword.\n    \n    Returns:\n        New counter value.\n    \"\"\"\n    # TODO: Use global keyword to modify counter\n    # global counter\n    # counter += 1\n    # return counter\n    \n    pass\n\ndef reset_counter():\n    \"\"\"Reset global counter to zero.\n    \n    Returns:\n        Counter value (should be 0).\n    \"\"\"\n    # TODO: Use global keyword to reset counter\n    # global counter\n    # counter = 0\n    # return counter\n    \n    pass\n\ndef calculate_with_global(multiplier):\n    \"\"\"Calculate value using global counter.\n    \n    Args:\n        multiplier: Value to multiply counter by.\n    \n    Returns:\n        counter * multiplier.\n    \"\"\"\n    # TODO: Read global counter (no global keyword needed)\n    # return counter * multiplier\n    \n    pass\n\ndef shadow_demo():\n    \"\"\"Demonstrate variable shadowing.\n    \n    Returns:\n        Local app_name value.\n    \"\"\"\n    # TODO: Create local variable that shadows global\n    # app_name = \"LocalApp\"  # Local variable (shadows global)\n    # return app_name\n    \n    pass\n\ndef validate_limit(value):\n    \"\"\"Validate value against global limit.\n    \n    Args:\n        value: Value to check.\n    \n    Returns:\n        True if value < MAX_USERS, False otherwise.\n    \"\"\"\n    # TODO: Read global MAX_USERS for validation\n    # return value < MAX_USERS\n    \n    pass\n\n# Test functions\nprint(\"Global vs Local Scope:\")\nprint(\"=\"*60)\nprint(f\"Initial counter: {counter}\")\nprint(f\"MAX_USERS constant: {MAX_USERS}\")\nprint(f\"app_name: {app_name}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Reading Globals (no global keyword):\")\nprint(\"=\"*60)\nprint(f\"get_config_value(): {get_config_value()}\")\nprint(f\"validate_limit(50): {validate_limit(50)}\")\nprint(f\"validate_limit(150): {validate_limit(150)}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Modifying Globals (with global keyword):\")\nprint(\"=\"*60)\nprint(f\"Counter before: {counter}\")\nprint(f\"increment_counter(): {increment_counter()}\")\nprint(f\"increment_counter(): {increment_counter()}\")\nprint(f\"increment_counter(): {increment_counter()}\")\nprint(f\"Counter after: {counter}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Using Global in Calculations:\")\nprint(\"=\"*60)\nprint(f\"calculate_with_global(2): {calculate_with_global(2)}\")\nprint(f\"calculate_with_global(10): {calculate_with_global(10)}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Reset Counter:\")\nprint(\"=\"*60)\nprint(f\"reset_counter(): {reset_counter()}\")\nprint(f\"Counter after reset: {counter}\")\nprint(f\"increment_counter(): {increment_counter()}\")\nprint(f\"Counter now: {counter}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Variable Shadowing:\")\nprint(\"=\"*60)\nprint(f\"Global app_name: {app_name}\")\nprint(f\"shadow_demo() returns: {shadow_demo()}\")\nprint(f\"Global app_name unchanged: {app_name}\")\nprint(\"Local variable 'shadows' global inside function\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Key Concepts:\")\nprint(\"=\"*60)\nprint(\"1. Local scope: Variables inside function\")\nprint(\"2. Global scope: Variables at module level\")\nprint(\"3. Reading global: No keyword needed\")\nprint(\"4. Modifying global: Requires 'global' keyword\")\nprint(\"5. Shadowing: Local variable hides global with same name\")\nprint(\"6. Use globals sparingly (constants OK)\")\nprint(\"\\nWithout 'global' keyword:\")\nprint(\"  assignment creates NEW local variable\")\nprint(\"With 'global' keyword:\")\nprint(\"  assignment modifies the global variable\")",
  "solution": "# Global variables\nMAX_USERS = 100\ncounter = 0\napp_name = \"MyApp\"\n\ndef get_config_value():\n    \"\"\"Read global constant without global keyword.\"\"\"\n    return MAX_USERS\n\ndef increment_counter():\n    \"\"\"Increment global counter using global keyword.\"\"\"\n    global counter\n    counter += 1\n    return counter\n\ndef reset_counter():\n    \"\"\"Reset global counter to zero.\"\"\"\n    global counter\n    counter = 0\n    return counter\n\ndef calculate_with_global(multiplier):\n    \"\"\"Calculate value using global counter.\"\"\"\n    return counter * multiplier\n\ndef shadow_demo():\n    \"\"\"Demonstrate variable shadowing.\"\"\"\n    app_name = \"LocalApp\"  # Shadows global\n    return app_name\n\ndef validate_limit(value):\n    \"\"\"Validate value against global limit.\"\"\"\n    return value < MAX_USERS\n\n# Test code as provided",
  "hints": [
    "Reading globals: No keyword needed, just use the variable name",
    "Modifying globals: Must declare 'global variable_name' before assignment",
    "Shadowing: Local variable with same name hides the global",
    "Without 'global': assignment creates a new local variable",
    "Constants as globals are acceptable (MAX_USERS, CONFIG, etc.)",
    "Avoid excessive global usage - prefer passing parameters"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Read global constant",
      "input": "get_config_value()",
      "expectedOutput": "100",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Increment global counter",
      "input": "reset_counter(); increment_counter(); increment_counter()",
      "expectedOutput": "2",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Calculate with global",
      "input": "reset_counter(); increment_counter(); calculate_with_global(5)",
      "expectedOutput": "5",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Variable shadowing",
      "input": "shadow_demo()",
      "expectedOutput": "'LocalApp'",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Validate against global limit",
      "input": "validate_limit(50)",
      "expectedOutput": "True",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Reset counter works",
      "input": "increment_counter(); increment_counter(); reset_counter()",
      "expectedOutput": "0",
      "isHidden": true
    }
  ]
}