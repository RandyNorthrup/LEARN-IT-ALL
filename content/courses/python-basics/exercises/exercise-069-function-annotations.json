{
  "id": "exercise-069-function-annotations",
  "lessonId": "lesson-055-function-annotations",
  "title": "Type Hints and Static Type Checking",
  "description": "Master Python type hints and annotations for better code documentation and static analysis.\n\nYour program should:\n1. Add type hints to function parameters\n2. Specify return type annotations\n3. Use typing module (List, Dict, Optional, Union)\n4. Document collection types properly\n5. Understand type hints as documentation\n\nImplement these functions WITH TYPE HINTS:\n- `add_numbers(a, b)`: Add two integers, return int\n- `get_user_info(user_id)`: Return Dict[str, str] or None\n- `process_scores(scores)`: Take List[float], return float average\n- `format_name(first, last, middle)`: Optional middle name\n- `find_max(numbers)`: Take List[int|float], return Union type\n- `apply_func(x, func)`: Take value and Callable, return result\n\nExample:\n```python\ndef greet(name: str) -> str:\n    return f\"Hello, {name}!\"\n```",
  "difficulty": "intermediate",
  "points": 15,
  "language": "python",
  "starterCode": "from typing import List, Dict, Optional, Union, Callable\n\ndef add_numbers(a: int, b: int) -> int:\n    \"\"\"Add two integers.\n    \n    Args:\n        a: First integer.\n        b: Second integer.\n    \n    Returns:\n        Sum of a and b.\n    \"\"\"\n    # TODO: Already has type hints!\n    return a + b\n\ndef get_user_info(user_id: int) -> Optional[Dict[str, str]]:\n    \"\"\"Get user information by ID.\n    \n    Args:\n        user_id: User ID to look up.\n    \n    Returns:\n        User dict or None if not found.\n    \"\"\"\n    # TODO: Add type hints above\n    users = {\n        1: {\"name\": \"Alice\", \"email\": \"alice@example.com\"},\n        2: {\"name\": \"Bob\", \"email\": \"bob@example.com\"},\n    }\n    return users.get(user_id)\n\ndef process_scores(scores: List[float]) -> float:\n    \"\"\"Calculate average of scores.\n    \n    Args:\n        scores: List of test scores.\n    \n    Returns:\n        Average score.\n    \"\"\"\n    # TODO: Add type hints above\n    if not scores:\n        return 0.0\n    return sum(scores) / len(scores)\n\ndef format_name(first: str, last: str, middle: Optional[str] = None) -> str:\n    \"\"\"Format full name with optional middle name.\n    \n    Args:\n        first: First name.\n        last: Last name.\n        middle: Middle name (optional).\n    \n    Returns:\n        Formatted full name.\n    \"\"\"\n    # TODO: Add type hints above\n    if middle:\n        return f\"{first} {middle} {last}\"\n    return f\"{first} {last}\"\n\ndef find_max(numbers: List[Union[int, float]]) -> Union[int, float]:\n    \"\"\"Find maximum value in list.\n    \n    Args:\n        numbers: List of numbers (int or float).\n    \n    Returns:\n        Maximum value.\n    \"\"\"\n    # TODO: Add type hints above\n    return max(numbers)\n\ndef apply_func(x: int, func: Callable[[int], int]) -> int:\n    \"\"\"Apply function to value.\n    \n    Args:\n        x: Input value.\n        func: Function to apply.\n    \n    Returns:\n        Result of func(x).\n    \"\"\"\n    # TODO: Add type hints above\n    return func(x)\n\n# Test functions\nprint(\"Type Hints Demonstration:\")\nprint(\"=\"*60)\n\nprint(\"\\n1. add_numbers (int, int) -> int:\")\nprint(\"-\" * 60)\nresult = add_numbers(5, 3)\nprint(f\"add_numbers(5, 3): {result}\")\nprint(f\"Type: {type(result).__name__}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"2. get_user_info (int) -> Optional[Dict[str, str]]:\")\nprint(\"-\" * 60)\nuser1 = get_user_info(1)\nuser2 = get_user_info(999)\nprint(f\"get_user_info(1): {user1}\")\nprint(f\"get_user_info(999): {user2} (None - not found)\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"3. process_scores (List[float]) -> float:\")\nprint(\"-\" * 60)\nscores = [85.5, 90.0, 78.5, 92.0]\naverage = process_scores(scores)\nprint(f\"Scores: {scores}\")\nprint(f\"Average: {average:.2f}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"4. format_name (..., Optional[str]) -> str:\")\nprint(\"-\" * 60)\nname1 = format_name(\"John\", \"Doe\")\nname2 = format_name(\"John\", \"Doe\", \"Smith\")\nprint(f\"Without middle: {name1}\")\nprint(f\"With middle: {name2}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"5. find_max (List[Union[int, float]]) -> Union[int, float]:\")\nprint(\"-\" * 60)\nmixed_numbers = [1, 2.5, 3, 4.7, 5]\nmax_value = find_max(mixed_numbers)\nprint(f\"Numbers: {mixed_numbers}\")\nprint(f\"Maximum: {max_value}\")\nprint(f\"Type: {type(max_value).__name__}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"6. apply_func (int, Callable) -> int:\")\nprint(\"-\" * 60)\ndef square(x: int) -> int:\n    return x ** 2\n\ndef double(x: int) -> int:\n    return x * 2\n\nresult1 = apply_func(5, square)\nresult2 = apply_func(5, double)\nprint(f\"apply_func(5, square): {result1}\")\nprint(f\"apply_func(5, double): {result2}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Type Hints Best Practices:\")\nprint(\"=\"*60)\nprint(\"1. Use basic types: int, float, str, bool\")\nprint(\"2. Import from typing: List, Dict, Tuple, Set\")\nprint(\"3. Optional[T] for values that can be None\")\nprint(\"4. Union[T1, T2] for multiple possible types\")\nprint(\"5. Callable[[Args], Return] for function types\")\nprint(\"6. Type hints are documentation, not enforcement\")\nprint(\"7. Use static type checkers (mypy) for validation\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Example Type Annotations:\")\nprint(\"=\"*60)\nprint(\"def func(x: int) -> int:                    # Basic types\")\nprint(\"def func(items: List[str]) -> None:        # List of strings\")\nprint(\"def func(data: Dict[str, int]) -> bool:    # Dict with typed keys/values\")\nprint(\"def func(value: Optional[int]) -> str:     # Can be int or None\")\nprint(\"def func(x: Union[int, float]) -> float:   # Int or float\")\nprint(\"def func(f: Callable[[int], int]) -> int:  # Function type\")",
  "solution": "from typing import List, Dict, Optional, Union, Callable\n\ndef add_numbers(a: int, b: int) -> int:\n    \"\"\"Add two integers.\"\"\"\n    return a + b\n\ndef get_user_info(user_id: int) -> Optional[Dict[str, str]]:\n    \"\"\"Get user information by ID.\"\"\"\n    users = {\n        1: {\"name\": \"Alice\", \"email\": \"alice@example.com\"},\n        2: {\"name\": \"Bob\", \"email\": \"bob@example.com\"},\n    }\n    return users.get(user_id)\n\ndef process_scores(scores: List[float]) -> float:\n    \"\"\"Calculate average of scores.\"\"\"\n    if not scores:\n        return 0.0\n    return sum(scores) / len(scores)\n\ndef format_name(first: str, last: str, middle: Optional[str] = None) -> str:\n    \"\"\"Format full name with optional middle name.\"\"\"\n    if middle:\n        return f\"{first} {middle} {last}\"\n    return f\"{first} {last}\"\n\ndef find_max(numbers: List[Union[int, float]]) -> Union[int, float]:\n    \"\"\"Find maximum value in list.\"\"\"\n    return max(numbers)\n\ndef apply_func(x: int, func: Callable[[int], int]) -> int:\n    \"\"\"Apply function to value.\"\"\"\n    return func(x)\n\n# Test code as provided",
  "hints": [
    "Type hints: parameter_name: type -> return_type",
    "Optional[T] means value can be T or None",
    "List[int] for list of integers",
    "Dict[str, int] for dict with string keys, int values",
    "Union[int, float] for value that can be int or float",
    "Callable[[ArgType], ReturnType] for functions"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Add numbers returns int",
      "input": "add_numbers(5, 3)",
      "expectedOutput": "8",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Get user info returns dict or None",
      "input": "get_user_info(1)['name']",
      "expectedOutput": "'Alice'",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Process scores returns float",
      "input": "process_scores([80.0, 90.0, 85.0])",
      "expectedOutput": "85.0",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Format name with middle",
      "input": "format_name('John', 'Doe', 'Smith')",
      "expectedOutput": "'John Smith Doe'",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Find max in mixed list",
      "input": "find_max([1, 2.5, 3])",
      "expectedOutput": "3",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Apply function",
      "input": "apply_func(5, lambda x: x * 2)",
      "expectedOutput": "10",
      "isHidden": true
    }
  ]
}