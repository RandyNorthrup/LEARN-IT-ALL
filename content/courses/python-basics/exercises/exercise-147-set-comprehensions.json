{
  "id": "exercise-147-set-comprehensions",
  "lessonId": "lesson-137-set-comprehensions",
  "title": "Set Comprehensions and Generation",
  "description": "Master set comprehensions with filtering, transformations, nested iterations, and efficient set generation patterns.",
  "difficulty": "intermediate",
  "points": 20,
  "starterCode": "# Function 1: Basic set comprehension\ndef squares_set(n):\n    \"\"\"Create set of squares from 0 to n-1.\n    \n    Args:\n        n (int): Upper limit (exclusive)\n    \n    Returns:\n        set: Set of square numbers\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 2: Set comprehension with filter\ndef even_numbers(n):\n    \"\"\"Create set of even numbers from 0 to n-1.\n    \n    Args:\n        n (int): Upper limit (exclusive)\n    \n    Returns:\n        set: Set of even numbers\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 3: Transform strings to uppercase\ndef uppercase_set(words):\n    \"\"\"Convert all words to uppercase in set.\n    \n    Args:\n        words (list): List of strings\n    \n    Returns:\n        set: Set of uppercase strings\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 4: Extract unique letters\ndef unique_letters(text):\n    \"\"\"Extract unique letters (ignore non-alpha).\n    \n    Args:\n        text (str): Input text\n    \n    Returns:\n        set: Set of unique lowercase letters\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 5: Nested comprehension - Cartesian product\ndef cartesian_product(set_a, set_b):\n    \"\"\"Create set of all (a, b) pairs.\n    \n    Args:\n        set_a (set): First set\n        set_b (set): Second set\n    \n    Returns:\n        set: Set of tuples (a, b)\n    \"\"\"\n    # Your code here\n    pass\n\n# Function 6: Conditional set comprehension\ndef categorize_numbers(numbers):\n    \"\"\"Categorize each number as 'even' or 'odd'.\n    \n    Args:\n        numbers (list): List of integers\n    \n    Returns:\n        set: Set containing {'even', 'odd'}\n    \"\"\"\n    # Your code here\n    pass",
  "solution": "# Function 1: Basic set comprehension\ndef squares_set(n):\n    \"\"\"Create set of squares from 0 to n-1.\n    \n    Args:\n        n (int): Upper limit (exclusive)\n    \n    Returns:\n        set: Set of square numbers\n    \"\"\"\n    return {x**2 for x in range(n)}\n\n# Function 2: Set comprehension with filter\ndef even_numbers(n):\n    \"\"\"Create set of even numbers from 0 to n-1.\n    \n    Args:\n        n (int): Upper limit (exclusive)\n    \n    Returns:\n        set: Set of even numbers\n    \"\"\"\n    return {x for x in range(n) if x % 2 == 0}\n\n# Function 3: Transform strings to uppercase\ndef uppercase_set(words):\n    \"\"\"Convert all words to uppercase in set.\n    \n    Args:\n        words (list): List of strings\n    \n    Returns:\n        set: Set of uppercase strings\n    \"\"\"\n    return {word.upper() for word in words}\n\n# Function 4: Extract unique letters\ndef unique_letters(text):\n    \"\"\"Extract unique letters (ignore non-alpha).\n    \n    Args:\n        text (str): Input text\n    \n    Returns:\n        set: Set of unique lowercase letters\n    \"\"\"\n    return {char.lower() for char in text if char.isalpha()}\n\n# Function 5: Nested comprehension - Cartesian product\ndef cartesian_product(set_a, set_b):\n    \"\"\"Create set of all (a, b) pairs.\n    \n    Args:\n        set_a (set): First set\n        set_b (set): Second set\n    \n    Returns:\n        set: Set of tuples (a, b)\n    \"\"\"\n    return {(a, b) for a in set_a for b in set_b}\n\n# Function 6: Conditional set comprehension\ndef categorize_numbers(numbers):\n    \"\"\"Categorize each number as 'even' or 'odd'.\n    \n    Args:\n        numbers (list): List of integers\n    \n    Returns:\n        set: Set containing {'even', 'odd'}\n    \"\"\"\n    return {'even' if x % 2 == 0 else 'odd' for x in numbers}",
  "hints": [
    "Basic comprehension: {x**2 for x in range(n)}",
    "With filter: {x for x in range(n) if x % 2 == 0}",
    "Transform: {word.upper() for word in words}",
    "Filter and transform: {char.lower() for char in text if char.isalpha()}",
    "Nested: {(a, b) for a in set_a for b in set_b} creates all pairs",
    "Conditional expression: {'even' if x % 2 == 0 else 'odd' for x in numbers}"
  ],
  "testCases": [
    {
      "id": "test1",
      "input": "squares_set(5)",
      "expectedOutput": "{0, 1, 4, 9, 16}",
      "isHidden": false,
      "description": "Squares set"
    },
    {
      "id": "test2",
      "input": "even_numbers(10)",
      "expectedOutput": "{0, 2, 4, 6, 8}",
      "isHidden": false,
      "description": "Even numbers"
    },
    {
      "id": "test3",
      "input": "uppercase_set(['hello', 'world'])",
      "expectedOutput": "{'HELLO', 'WORLD'}",
      "isHidden": false,
      "description": "Uppercase set"
    },
    {
      "id": "test4",
      "input": "unique_letters('Hello, World!')",
      "expectedOutput": "{'h', 'e', 'l', 'o', 'w', 'r', 'd'}",
      "isHidden": true,
      "description": "Unique letters"
    },
    {
      "id": "test5",
      "input": "len(cartesian_product({1, 2}, {'a', 'b', 'c'}))",
      "expectedOutput": "6",
      "isHidden": true,
      "description": "Cartesian product"
    },
    {
      "id": "test6",
      "input": "categorize_numbers([1, 2, 3, 4, 5])",
      "expectedOutput": "{'even', 'odd'}",
      "isHidden": true,
      "description": "Categorize numbers"
    }
  ],
  "language": "python"
}