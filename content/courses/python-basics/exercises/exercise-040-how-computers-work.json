{
  "id": "exercise-040-how-computers-work",
  "lessonId": "lesson-027-how-computers-work",
  "title": "Computer Component Simulator",
  "description": "Create a simple simulation that demonstrates how computer components work together. The program should simulate loading a program from storage to RAM, then having the CPU execute instructions.\n\nYour simulator should:\n1. Simulate loading a program from storage (HDD) to memory (RAM)\n2. Show the fetch-decode-execute cycle for 3 instructions\n3. Calculate and display the time taken for each operation based on realistic speeds\n4. Print the total execution time\n\nUse these realistic speeds:\n- Storage read: 100ms per instruction\n- RAM read: 10ns (0.00001ms) per instruction\n- CPU execute: 1ns (0.000001ms) per instruction\n\nExample output:\n```\n[STORAGE] Loading program (3 instructions)... 300ms\n[RAM] Program loaded into memory\n\n[CPU] Instruction 1: LOAD x = 10\n  - Fetch from RAM: 0.00001ms\n  - Decode: 0.000001ms\n  - Execute: 0.000001ms\n[CPU] Instruction 2: LOAD y = 20\n  - Fetch from RAM: 0.00001ms\n  - Decode: 0.000001ms\n  - Execute: 0.000001ms\n[CPU] Instruction 3: ADD x + y = 30\n  - Fetch from RAM: 0.00001ms\n  - Decode: 0.000001ms\n  - Execute: 0.000001ms\n\nTotal execution time: 300.00006ms\n```",
  "difficulty": "intermediate",
  "points": 15,
  "language": "python",
  "starterCode": "# Computer Component Simulator\n\n# Component speeds (in milliseconds)\nSTORAGE_READ_MS = 100  # 100ms per instruction\nRAM_READ_MS = 0.00001  # 10 nanoseconds\nCPU_DECODE_MS = 0.000001  # 1 nanosecond\nCPU_EXECUTE_MS = 0.000001  # 1 nanosecond\n\ndef simulate_computer():\n    \"\"\"Simulate computer loading and executing a program.\"\"\"\n    # TODO: Define the program (list of 3 instruction strings)\n    instructions = []\n    \n    # TODO: Calculate storage load time (instructions * STORAGE_READ_MS)\n    storage_time = 0\n    \n    # TODO: Print storage loading message with time\n    \n    # TODO: Print RAM loaded message\n    \n    # TODO: Initialize total execution time\n    total_time = 0\n    \n    # TODO: Loop through each instruction with index\n    # For each instruction:\n    #   1. Print instruction number and content\n    #   2. Calculate and print fetch time (RAM_READ_MS)\n    #   3. Calculate and print decode time (CPU_DECODE_MS)\n    #   4. Calculate and print execute time (CPU_EXECUTE_MS)\n    #   5. Add all times to total_time\n    \n    # TODO: Print total execution time\n    \n    pass\n\n# Run the simulation\nsimulate_computer()",
  "solution": "# Computer Component Simulator\n\n# Component speeds (in milliseconds)\nSTORAGE_READ_MS = 100  # 100ms per instruction\nRAM_READ_MS = 0.00001  # 10 nanoseconds\nCPU_DECODE_MS = 0.000001  # 1 nanosecond\nCPU_EXECUTE_MS = 0.000001  # 1 nanosecond\n\ndef simulate_computer():\n    \"\"\"Simulate computer loading and executing a program.\"\"\"\n    # Define the program\n    instructions = [\n        \"LOAD x = 10\",\n        \"LOAD y = 20\",\n        \"ADD x + y = 30\"\n    ]\n    \n    # Calculate storage load time\n    storage_time = len(instructions) * STORAGE_READ_MS\n    \n    # Print storage loading\n    print(f\"[STORAGE] Loading program ({len(instructions)} instructions)... {storage_time}ms\")\n    print(\"[RAM] Program loaded into memory\")\n    print()\n    \n    # Initialize total time with storage time\n    total_time = storage_time\n    \n    # Execute each instruction\n    for i, instruction in enumerate(instructions, 1):\n        print(f\"[CPU] Instruction {i}: {instruction}\")\n        \n        # Fetch from RAM\n        fetch_time = RAM_READ_MS\n        print(f\"  - Fetch from RAM: {fetch_time}ms\")\n        total_time += fetch_time\n        \n        # Decode instruction\n        decode_time = CPU_DECODE_MS\n        print(f\"  - Decode: {decode_time}ms\")\n        total_time += decode_time\n        \n        # Execute instruction\n        execute_time = CPU_EXECUTE_MS\n        print(f\"  - Execute: {execute_time}ms\")\n        total_time += execute_time\n    \n    print(f\"\\nTotal execution time: {total_time}ms\")\n\n# Run the simulation\nsimulate_computer()",
  "hints": [
    "Start by defining a list of 3 instruction strings like ['LOAD x = 10', 'LOAD y = 20', 'ADD x + y = 30']",
    "Calculate storage load time by multiplying the number of instructions by STORAGE_READ_MS",
    "Use enumerate(instructions, 1) to loop through instructions with a 1-based index",
    "For each instruction, add the fetch time (RAM_READ_MS), decode time (CPU_DECODE_MS), and execute time (CPU_EXECUTE_MS) to the total",
    "Don't forget to include storage_time in your total_time calculation",
    "Use f-strings to format the output nicely with variable values"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Program output includes storage loading message",
      "input": "simulate_computer()",
      "expectedOutput": "Output contains '[STORAGE] Loading program (3 instructions)... 300ms'",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "Program shows all 3 CPU instructions being executed",
      "input": "simulate_computer()",
      "expectedOutput": "Output contains '[CPU] Instruction 1:', '[CPU] Instruction 2:', and '[CPU] Instruction 3:'",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "Each instruction shows fetch, decode, and execute steps",
      "input": "simulate_computer()",
      "expectedOutput": "Each instruction shows 'Fetch from RAM', 'Decode', and 'Execute' with timing",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "Total execution time is calculated correctly (300.00006ms)",
      "input": "simulate_computer()",
      "expectedOutput": "Output contains 'Total execution time: 300.00006ms' or very close value",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "RAM loaded message appears after storage loading",
      "input": "simulate_computer()",
      "expectedOutput": "Output contains '[RAM] Program loaded into memory' after storage message",
      "isHidden": true
    }
  ]
}