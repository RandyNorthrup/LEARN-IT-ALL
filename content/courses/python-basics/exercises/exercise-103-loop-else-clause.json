{
  "id": "exercise-103-loop-else-clause",
  "lessonId": "lesson-095-loop-else-clause",
  "title": "Search and Validation Systems",
  "description": "Master the loop else clause for elegant search and validation patterns. Learn when else executes and when it doesn't.\n\nYour program should:\n1. Use for-else for search patterns\n2. Apply while-else for retry limits\n3. Report when item not found with else\n4. Validate all items pass criteria\n5. Understand break prevents else execution\n\nImplement these functions:\n- `find_first_negative(numbers)`: Find and return first negative, or None\n- `all_positive(numbers)`: Check all numbers are positive\n- `find_prime(n)`: Check if n is prime using loop-else\n- `search_user(users, user_id)`: Find user by ID, return user or None\n- `validate_passwords(passwords)`: Check all meet criteria\n- `find_in_nested(matrix, target)`: Search 2D list\n\nExample:\n```python\nresult = find_first_negative([1, 2, -3, 4])  # -3\nresult = find_first_negative([1, 2, 3])  # None (else ran)\n```",
  "difficulty": "intermediate",
  "points": 20,
  "language": "python",
  "starterCode": "def find_first_negative(numbers):\n    \"\"\"Find first negative number, or None if all positive.\"\"\"\n    # TODO: Use for-else pattern\n    # For num in numbers:\n    #   If num < 0:\n    #     Return num (breaks loop, skips else)\n    # Else:\n    #   Return None (no break, else runs)\n    \n    pass\n\ndef all_positive(numbers):\n    \"\"\"Check if all numbers are positive.\"\"\"\n    # TODO: Use for-else for validation\n    # For num in numbers:\n    #   If num <= 0:\n    #     Return False (found non-positive)\n    # Else:\n    #   Return True (all checked, all positive)\n    \n    pass\n\ndef find_prime(n):\n    \"\"\"Check if n is prime using loop-else.\"\"\"\n    # TODO: Use for-else pattern\n    # If n < 2: return False\n    # For i in range(2, int(n ** 0.5) + 1):\n    #   If n % i == 0:\n    #     Return False (found divisor, not prime)\n    # Else:\n    #   Return True (no divisor found, is prime)\n    \n    pass\n\ndef search_user(users, user_id):\n    \"\"\"Find user by ID, return user dict or None.\"\"\"\n    # TODO: Search with for-else\n    # For user in users:\n    #   If user['id'] == user_id:\n    #     Return user\n    # Else:\n    #   Return None\n    \n    pass\n\ndef validate_passwords(passwords):\n    \"\"\"Check all passwords meet criteria (len >= 8).\"\"\"\n    # TODO: Validation with for-else\n    # For password in passwords:\n    #   If len(password) < 8:\n    #     Return False\n    # Else:\n    #   Return True\n    \n    pass\n\ndef find_in_nested(matrix, target):\n    \"\"\"Find target in 2D matrix, return (row, col) or None.\"\"\"\n    # TODO: Nested loops with else\n    # For i in range(len(matrix)):\n    #   For j in range(len(matrix[i])):\n    #     If matrix[i][j] == target:\n    #       Return (i, j)\n    #   # Note: Can use else on inner loop too\n    # Return None\n    \n    pass\n\n# Test the functions\nprint(\"Find First Negative:\")\nprint(\"=\"*60)\ntest_lists = [\n    [1, 2, -3, 4, 5],\n    [1, 2, 3, 4, 5],\n    [-1, 2, 3],\n    [],\n]\n\nfor numbers in test_lists:\n    result = find_first_negative(numbers)\n    print(f\"Numbers: {numbers}\")\n    if result is not None:\n        print(f\"First negative: {result}\")\n    else:\n        print(\"No negatives found\")\n    print()\n\nprint(\"=\"*60)\nprint(\"All Positive Check:\")\nprint(\"=\"*60)\ntest_lists = [\n    [1, 2, 3, 4, 5],\n    [1, -2, 3],\n    [0, 1, 2],\n    [],\n]\n\nfor numbers in test_lists:\n    result = all_positive(numbers)\n    status = \"✓ All positive\" if result else \"✗ Has non-positive\"\n    print(f\"{numbers}: {status}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Prime Number Check:\")\nprint(\"=\"*60)\ntest_numbers = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 17, 20, 29]\n\nfor n in test_numbers:\n    is_prime = find_prime(n)\n    status = \"PRIME\" if is_prime else \"not prime\"\n    print(f\"{n:3}: {status}\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Search User:\")\nprint(\"=\"*60)\nusers = [\n    {'id': 1, 'name': 'Alice', 'email': 'alice@example.com'},\n    {'id': 2, 'name': 'Bob', 'email': 'bob@example.com'},\n    {'id': 3, 'name': 'Charlie', 'email': 'charlie@example.com'},\n]\n\nsearch_ids = [2, 5, 1, 10]\n\nfor user_id in search_ids:\n    user = search_user(users, user_id)\n    if user:\n        print(f\"Found user {user_id}: {user['name']}\")\n    else:\n        print(f\"User {user_id} not found\")\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"Validate Passwords:\")\nprint(\"=\"*60)\npassword_lists = [\n    ['password123', 'securepass', 'longenough'],\n    ['short', 'valid123', 'test'],\n    ['validpass', 'another1'],\n    [],\n]\n\nfor passwords in password_lists:\n    valid = validate_passwords(passwords)\n    status = \"✓ All valid\" if valid else \"✗ Invalid passwords\"\n    print(f\"{passwords}\")\n    print(f\"  {status}\\n\")\n\nprint(\"=\"*60)\nprint(\"Find in Nested List:\")\nprint(\"=\"*60)\nmatrix = [\n    [1, 2, 3],\n    [4, 5, 6],\n    [7, 8, 9]\n]\n\nsearch_values = [5, 1, 9, 10]\n\nprint(\"Matrix:\")\nfor row in matrix:\n    print(f\"  {row}\")\nprint()\n\nfor target in search_values:\n    position = find_in_nested(matrix, target)\n    if position:\n        row, col = position\n        print(f\"Found {target} at ({row}, {col})\")\n    else:\n        print(f\"{target} not found\")",
  "solution": "def find_first_negative(numbers):\n    \"\"\"Find first negative number, or None if all positive.\"\"\"\n    for num in numbers:\n        if num < 0:\n            return num\n    else:\n        return None\n\ndef all_positive(numbers):\n    \"\"\"Check if all numbers are positive.\"\"\"\n    for num in numbers:\n        if num <= 0:\n            return False\n    else:\n        return True\n\ndef find_prime(n):\n    \"\"\"Check if n is prime using loop-else.\"\"\"\n    if n < 2:\n        return False\n    \n    for i in range(2, int(n ** 0.5) + 1):\n        if n % i == 0:\n            return False\n    else:\n        return True\n\ndef search_user(users, user_id):\n    \"\"\"Find user by ID, return user dict or None.\"\"\"\n    for user in users:\n        if user['id'] == user_id:\n            return user\n    else:\n        return None\n\ndef validate_passwords(passwords):\n    \"\"\"Check all passwords meet criteria (len >= 8).\"\"\"\n    for password in passwords:\n        if len(password) < 8:\n            return False\n    else:\n        return True\n\ndef find_in_nested(matrix, target):\n    \"\"\"Find target in 2D matrix, return (row, col) or None.\"\"\"\n    for i in range(len(matrix)):\n        for j in range(len(matrix[i])):\n            if matrix[i][j] == target:\n                return (i, j)\n    return None\n\n# Test code as provided",
  "hints": [
    "for-else: else block runs if loop completes without break",
    "Use break to exit loop early and skip else block",
    "else is perfect for 'not found' scenarios",
    "Validation pattern: break on first failure, else returns True",
    "Prime check: break if divisor found, else means no divisors (prime)",
    "Empty list completes normally, so else still runs"
  ],
  "testCases": [
    {
      "id": "tc1",
      "description": "Find first negative returns the value",
      "input": "find_first_negative([1, 2, -3, 4])",
      "expectedOutput": "-3",
      "isHidden": false
    },
    {
      "id": "tc2",
      "description": "No negatives returns None",
      "input": "find_first_negative([1, 2, 3])",
      "expectedOutput": "None",
      "isHidden": false
    },
    {
      "id": "tc3",
      "description": "All positive when all are positive",
      "input": "all_positive([1, 2, 3, 4])",
      "expectedOutput": "True",
      "isHidden": false
    },
    {
      "id": "tc4",
      "description": "17 is prime",
      "input": "find_prime(17)",
      "expectedOutput": "True",
      "isHidden": true
    },
    {
      "id": "tc5",
      "description": "Search user returns user dict",
      "input": "'name' in search_user([{'id': 1, 'name': 'Alice'}], 1)",
      "expectedOutput": "True",
      "isHidden": true
    },
    {
      "id": "tc6",
      "description": "Find in nested matrix",
      "input": "find_in_nested([[1, 2], [3, 4]], 3)",
      "expectedOutput": "(1, 0)",
      "isHidden": true
    }
  ]
}